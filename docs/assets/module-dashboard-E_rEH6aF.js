import{_ as w}from"./module-gl-DpMMjp0h.js";const qe={id:"concrete.dashboard",name:"Dashboard & KPI Engine",description:"Executive dashboards, KPI computation engine, configurable widgets, period comparison, entity filtering, and drill-down analytics for construction financial management",version:"1.0.0",phase:12,dependencies:["concrete.gl","concrete.entity","concrete.job","concrete.ap","concrete.ar"],collections:["analytics/dashboard","analytics/widget","analytics/savedReport","analytics/kpiDef","analytics/benchmark"],routes:[{path:"/dashboard",component:()=>w(()=>Promise.resolve().then(()=>L),void 0,import.meta.url),title:"Dashboard",icon:"layout-dashboard"},{path:"/dashboard/executive",component:()=>w(()=>Promise.resolve().then(()=>L),void 0,import.meta.url),title:"Executive Dashboard",icon:"bar-chart-2"},{path:"/dashboard/jobs",component:()=>w(()=>Promise.resolve().then(()=>ne),void 0,import.meta.url),title:"Job Performance",icon:"briefcase"},{path:"/dashboard/cash-flow",component:()=>w(()=>Promise.resolve().then(()=>ce),void 0,import.meta.url),title:"Cash Flow",icon:"trending-up"},{path:"/dashboard/backlog",component:()=>w(()=>Promise.resolve().then(()=>fe),void 0,import.meta.url),title:"Backlog Analysis",icon:"layers"},{path:"/dashboard/equipment",component:()=>w(()=>Promise.resolve().then(()=>we),void 0,import.meta.url),title:"Equipment Utilization",icon:"truck"},{path:"/dashboard/payroll",component:()=>w(()=>Promise.resolve().then(()=>De),void 0,import.meta.url),title:"Payroll Burden",icon:"users"},{path:"/dashboard/safety",component:()=>w(()=>Promise.resolve().then(()=>Ae),void 0,import.meta.url),title:"Safety Metrics",icon:"shield"},{path:"/dashboard/configure",component:()=>w(()=>Promise.resolve().then(()=>Ue),void 0,import.meta.url),title:"Configure Dashboard",icon:"settings"}],navItems:[{id:"dashboard",label:"Dashboard",icon:"layout-dashboard",path:"/dashboard",order:5},{id:"dashboard-executive",label:"Executive",icon:"bar-chart-2",path:"/dashboard/executive",order:1,parent:"dashboard"},{id:"dashboard-jobs",label:"Job Performance",icon:"briefcase",path:"/dashboard/jobs",order:2,parent:"dashboard"},{id:"dashboard-cashflow",label:"Cash Flow",icon:"trending-up",path:"/dashboard/cash-flow",order:3,parent:"dashboard"},{id:"dashboard-backlog",label:"Backlog",icon:"layers",path:"/dashboard/backlog",order:4,parent:"dashboard"},{id:"dashboard-equipment",label:"Equipment",icon:"truck",path:"/dashboard/equipment",order:5,parent:"dashboard"},{id:"dashboard-payroll",label:"Payroll",icon:"users",path:"/dashboard/payroll",order:6,parent:"dashboard"},{id:"dashboard-safety",label:"Safety",icon:"shield",path:"/dashboard/safety",order:7,parent:"dashboard"},{id:"dashboard-configure",label:"Configure",icon:"settings",path:"/dashboard/configure",order:8,parent:"dashboard"}],dashboardWidgets:[],settings:[],permissions:[{resource:"dashboard",actions:["create","read","update","delete"],description:"Dashboard management"},{resource:"dashboard.widget",actions:["create","read","update","delete"],description:"Widget management"},{resource:"dashboard.kpiDef",actions:["create","read","update","delete"],description:"KPI definition management"},{resource:"dashboard.benchmark",actions:["create","read","update","delete"],description:"Benchmark data management"},{resource:"dashboard.savedReport",actions:["create","read","update","delete","share"],description:"Saved report management"},{resource:"dashboard.kpi",actions:["compute","export"],description:"KPI computation and export"}],workflows:[],importTypes:[{id:"dashboard-benchmarks",label:"Import KPI Benchmarks",collection:"analytics/benchmark",fields:[{name:"kpiCode",type:"string",required:!0,label:"KPI Code"},{name:"period",type:"string",required:!0,label:"Period"},{name:"value",type:"number",required:!0,label:"Value"},{name:"target",type:"number",label:"Target"},{name:"entityId",type:"string",label:"Entity ID"},{name:"industry",type:"string",label:"Industry Benchmark"}],autoDetectHeaders:!0},{id:"dashboard-kpiDefs",label:"Import KPI Definitions",collection:"analytics/kpiDef",fields:[{name:"code",type:"string",required:!0,label:"KPI Code"},{name:"name",type:"string",required:!0,label:"KPI Name"},{name:"category",type:"string",required:!0,label:"Category"},{name:"formula",type:"string",required:!0,label:"Formula"},{name:"format",type:"string",required:!0,label:"Format"},{name:"thresholdWarning",type:"number",label:"Warning Threshold"},{name:"thresholdCritical",type:"number",label:"Critical Threshold"},{name:"higherIsBetter",type:"boolean",label:"Higher Is Better"}],autoDetectHeaders:!0}],exportTypes:[{id:"dashboard-kpis",label:"Export KPI Results",collection:"analytics/benchmark",defaultFields:["kpiCode","period","value","target","entityId"]},{id:"dashboard-kpiDefs",label:"Export KPI Definitions",collection:"analytics/kpiDef",defaultFields:["code","name","category","formula","format","thresholdWarning","thresholdCritical","higherIsBetter"]}],hooks:[]};function p(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}function P(e,t){switch(t){case"currency":return Math.abs(e)>=1e9?`$${(e/1e9).toFixed(1)}B`:Math.abs(e)>=1e6?`$${(e/1e6).toFixed(1)}M`:Math.abs(e)>=1e3?`$${(e/1e3).toFixed(1)}K`:e.toLocaleString("en-US",{style:"currency",currency:"USD"});case"percent":return`${e.toFixed(1)}%`;case"days":return`${e.toFixed(0)} days`;case"number":default:return e.toLocaleString("en-US",{maximumFractionDigits:2})}}function U(e){return e===void 0?"":`${e>=0?"+":""}${e.toFixed(1)}%`}const z={good:"text-emerald-400",warning:"text-amber-400",critical:"text-red-400",neutral:"text-[var(--text-muted)]"},V={good:"bg-emerald-500/10 border-emerald-500/20",warning:"bg-amber-500/10 border-amber-500/20",critical:"bg-red-500/10 border-red-500/20",neutral:"bg-zinc-500/10 border-zinc-500/20"},q={good:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",warning:"bg-amber-500/10 text-amber-400 border border-amber-500/20",critical:"bg-red-500/10 text-red-400 border border-red-500/20",neutral:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"},K={up:"↑",down:"↓",flat:"→"},H={up:"text-emerald-400",down:"text-red-400",flat:"text-zinc-400"};function Q(e,t){const a=p("div",`p-4 rounded-lg border ${V[e.status]} cursor-pointer hover:opacity-90 transition-opacity`);t&&(a.addEventListener("click",()=>t(e.code)),a.style.cursor="pointer");const o=p("div","flex items-center justify-between mb-2");o.appendChild(p("span","text-xs font-medium text-[var(--text-muted)] uppercase tracking-wide",e.name));const n=p("span",`px-2 py-0.5 rounded-full text-xs font-medium ${q[e.status]}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));o.appendChild(n),a.appendChild(o);const i=p("div",`text-2xl font-bold ${z[e.status]}`,P(e.value,e.format));if(a.appendChild(i),e.target!==void 0){const u=p("div","text-xs text-[var(--text-muted)] mt-1");u.textContent=`Target: ${P(e.target,e.format)}`,a.appendChild(u)}const r=p("div","flex items-center gap-2 mt-2"),d=p("span",`text-sm font-bold ${H[e.trend]}`,K[e.trend]);if(r.appendChild(d),e.changePercent!==void 0){const u=e.changePercent>=0?"text-emerald-400":"text-red-400",c=p("span",`text-xs font-medium ${u}`,U(e.changePercent));r.appendChild(c)}const s=p("span","text-xs text-[var(--text-muted)]",e.periodLabel);return r.appendChild(s),a.appendChild(r),a}function W(e,t,a=4){const o=p("div",`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${a} gap-4`);for(const n of e)o.appendChild(Q(n,t));return o}function Y(e,t){const a=p("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),o=p("table","w-full text-sm"),n=p("thead"),i=p("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["KPI","Value","Target","Status","Trend","Change","Period"]){const s=["Value","Target","Change"].includes(d)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";i.appendChild(p("th",s,d))}n.appendChild(i),o.appendChild(n);const r=p("tbody");if(e.length===0){const d=p("tr"),s=p("td","py-8 px-3 text-center text-[var(--text-muted)]","No KPI data available. Configure benchmarks to see results.");s.setAttribute("colspan","7"),d.appendChild(s),r.appendChild(d)}for(const d of e){const s=p("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");t&&(s.style.cursor="pointer",s.addEventListener("click",()=>t(d.code))),s.appendChild(p("td","py-2 px-3 font-medium text-[var(--text)]",d.name)),s.appendChild(p("td",`py-2 px-3 text-right font-mono ${z[d.status]}`,P(d.value,d.format)));const u=d.target!==void 0?P(d.target,d.format):"--";s.appendChild(p("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",u));const c=p("td","py-2 px-3"),h=p("span",`px-2 py-0.5 rounded-full text-xs font-medium ${q[d.status]}`,d.status.charAt(0).toUpperCase()+d.status.slice(1));c.appendChild(h),s.appendChild(c);const y=p("td","py-2 px-3"),S=p("span",`font-bold ${H[d.trend]}`,K[d.trend]);y.appendChild(S),s.appendChild(y);const E=U(d.changePercent),_=(d.changePercent??0)>=0?"text-emerald-400":"text-red-400";s.appendChild(p("td",`py-2 px-3 text-right font-mono ${_}`,E||"--")),s.appendChild(p("td","py-2 px-3 text-[var(--text-muted)] text-xs",d.periodLabel)),r.appendChild(s)}return o.appendChild(r),a.appendChild(o),a}function T(e,t){const o=p("select","bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]"),n=[{value:"mtd",label:"Month to Date"},{value:"qtd",label:"Quarter to Date"},{value:"ytd",label:"Year to Date"},{value:"last12",label:"Last 12 Months"},{value:"custom",label:"Custom Range"}];for(const i of n){const r=p("option","",i.label);r.value=i.value,i.value===e&&(r.selected=!0),o.appendChild(r)}return o.addEventListener("change",()=>t(o.value)),o}function R(e,t,a){const n=p("select","bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]"),i=p("option","","All Entities");i.value="",t||(i.selected=!0),n.appendChild(i);for(const r of e){const d=p("option","",r.name);d.value=r.id,r.id===t&&(d.selected=!0),n.appendChild(d)}return n.addEventListener("change",()=>a(n.value)),n}function D(e,t,a,o){const n=p("div","flex flex-wrap items-center justify-between gap-4 mb-6"),i=p("div");i.appendChild(p("h1","text-2xl font-bold text-[var(--text)]",e)),i.appendChild(p("p","text-sm text-[var(--text-muted)] mt-1",t)),n.appendChild(i);const r=p("div","flex items-center gap-3");return r.appendChild(a),r.appendChild(o),n.appendChild(r),n}function C(e,t){const a=p("div","mb-8");return a.appendChild(p("h2","text-lg font-semibold text-[var(--text)] mb-4",e)),a.appendChild(t),a}function k(e,t,a){const o=p("div","flex flex-col items-center justify-center py-12 text-center");if(o.appendChild(p("p","text-[var(--text-muted)] mb-4",e)),t&&a){const n=p("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90",t);n.addEventListener("click",a),o.appendChild(n)}return o}function I(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}function X(e,t){const a=e.filter(n=>["revenue_ytd","gross_profit_pct","backlog","wip_total","cash_position"].includes(n.code)),o=W(a,t,3);return C("Financial Overview",o)}function Z(e,t){const a=e.filter(n=>["ar_aging_total","ap_aging_total"].includes(n.code)),o=W(a,t,2);return C("Accounts Aging",o)}function ee(e,t){const a=Y(e,t);return C("Operational Metrics",a)}function te(){const e=I("div","mb-8");e.appendChild(I("h2","text-lg font-semibold text-[var(--text)] mb-4","Quick Links"));const t=I("div","grid grid-cols-2 md:grid-cols-4 gap-3"),a=[{label:"Job Performance",href:"#/dashboard/jobs",icon:"briefcase"},{label:"Cash Flow",href:"#/dashboard/cash-flow",icon:"trending-up"},{label:"Backlog Analysis",href:"#/dashboard/backlog",icon:"layers"},{label:"Equipment",href:"#/dashboard/equipment",icon:"truck"},{label:"Payroll Burden",href:"#/dashboard/payroll",icon:"users"},{label:"Safety Metrics",href:"#/dashboard/safety",icon:"shield"},{label:"Configure",href:"#/dashboard/configure",icon:"settings"},{label:"Reports",href:"#/reports",icon:"file-text"}];for(const o of a){const n=I("a","block p-3 rounded-lg border border-[var(--border)] bg-[var(--surface-raised)] hover:bg-[var(--surface)] transition-colors text-center");n.href=o.href,n.appendChild(I("div","text-sm font-medium text-[var(--text)]",o.label)),t.appendChild(n)}return e.appendChild(t),e}const re={render(e){e.innerHTML="";const t=I("div","space-y-0"),a={period:"ytd",entityId:"",executiveKPIs:[],operationalKPIs:[],entities:[]},o=T(a.period,d=>{a.period=d}),n=R(a.entities,a.entityId,d=>{a.entityId=d}),i=D("Executive Dashboard","Key financial and operational metrics at a glance",o,n);t.appendChild(i);const r=d=>{const u={revenue_ytd:"#/gl/journal",gross_profit_pct:"#/dashboard/jobs",backlog:"#/dashboard/backlog",wip_total:"#/dashboard/jobs",cash_position:"#/gl/journal",ar_aging_total:"#/ar/aging",ap_aging_total:"#/ap/aging",equipment_utilization:"#/dashboard/equipment",payroll_burden_rate:"#/dashboard/payroll",safety_emr:"#/dashboard/safety",bonding_utilized_pct:"#/dashboard/backlog",overbilling_total:"#/dashboard/jobs",underbilling_total:"#/dashboard/jobs"}[d];u&&(window.location.hash=u)};a.executiveKPIs.length===0&&a.operationalKPIs.length===0?t.appendChild(k("No KPI data available yet. Record benchmark data or connect live data sources to populate the executive dashboard.","Configure Dashboard",()=>{window.location.hash="#/dashboard/configure"})):(t.appendChild(X(a.executiveKPIs,r)),t.appendChild(Z(a.executiveKPIs,r)),t.appendChild(ee(a.operationalKPIs,r))),t.appendChild(te()),e.appendChild(t)}},L=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));function g(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}const B=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}),A=e=>`${e.toFixed(1)}%`;function N(e,t,a){const o=g("div","mb-6"),n=a?"text-emerald-400":"text-red-400";o.appendChild(g("h3",`text-md font-semibold ${n} mb-3`,e));const i=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),r=g("table","w-full text-sm"),d=g("thead"),s=g("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const c of["Job","Contract","Cost to Date","Billed","Margin %","Original Margin %","Fade"]){const h=["Contract","Cost to Date","Billed","Margin %","Original Margin %","Fade"].includes(c)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";s.appendChild(g("th",h,c))}d.appendChild(s),r.appendChild(d);const u=g("tbody");if(t.length===0){const c=g("tr"),h=g("td","py-6 px-3 text-center text-[var(--text-muted)]","No job data available.");h.setAttribute("colspan","7"),c.appendChild(h),u.appendChild(c)}for(const c of t){const h=g("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),y=g("td","py-2 px-3"),S=g("a","text-[var(--accent)] hover:underline font-medium",c.name);S.href=`#/job/jobs/${c.id}`,y.appendChild(S),h.appendChild(y),h.appendChild(g("td","py-2 px-3 text-right font-mono",B(c.contractAmount))),h.appendChild(g("td","py-2 px-3 text-right font-mono",B(c.costToDate))),h.appendChild(g("td","py-2 px-3 text-right font-mono",B(c.billedToDate)));const E=c.marginPercent>=0?"text-emerald-400":"text-red-400";h.appendChild(g("td",`py-2 px-3 text-right font-mono ${E}`,A(c.marginPercent))),h.appendChild(g("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",A(c.originalMargin)));const _=c.marginPercent-c.originalMargin,J=_>=0?"text-emerald-400":"text-red-400",G=_>=0?"+":"";h.appendChild(g("td",`py-2 px-3 text-right font-mono ${J}`,`${G}${A(_)}`)),u.appendChild(h)}return r.appendChild(u),i.appendChild(r),o.appendChild(i),o}function de(){const e=g("div","mb-6");e.appendChild(g("h3","text-md font-semibold text-[var(--text)] mb-3","Margin Fade Analysis"));const t=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),a=g("div","flex items-center justify-center h-48 text-[var(--text-muted)]","Margin fade chart will render here when Chart.js is connected and job data is available.");return t.appendChild(a),e.appendChild(t),e}function ae(){const e=g("div","mb-6");e.appendChild(g("h3","text-md font-semibold text-[var(--text)] mb-3","Margin Trend Over Time"));const t=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),a=g("div","flex items-center justify-center h-48 text-[var(--text-muted)]","Monthly margin trend chart will render here when Chart.js is connected and historical data is available.");return t.appendChild(a),e.appendChild(t),e}const oe={render(e){e.innerHTML="";const t=g("div","space-y-0"),a=T("ytd",()=>{}),o=R([],"",()=>{}),n=D("Job Performance","Top and bottom performing jobs, margin trends, and fade analysis",a,o);t.appendChild(n);const i=[],r=[];i.length===0&&r.length===0?t.appendChild(k("No job data available. Create jobs and record costs to see performance metrics.","Go to Jobs",()=>{window.location.hash="#/job/jobs"})):(t.appendChild(N("Top Performing Jobs",i,!0)),t.appendChild(N("Bottom Performing Jobs",r,!1))),t.appendChild(de()),t.appendChild(ae()),e.appendChild(t)}},ne=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));function x(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}const $=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"});function ie(){const e=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),t=x("div","flex items-center justify-center h-64 text-[var(--text-muted)]","Cash flow projection chart will render here when Chart.js is connected and transaction data is available.");return e.appendChild(t),e}function le(e){const t=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=x("table","w-full text-sm"),o=x("thead"),n=x("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Period","Inflows","Outflows","Net Cash","Cumulative"]){const d=r!=="Period"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";n.appendChild(x("th",d,r))}o.appendChild(n),a.appendChild(o);const i=x("tbody");if(e.length===0){const r=x("tr"),d=x("td","py-6 px-3 text-center text-[var(--text-muted)]","No cash flow projections available.");d.setAttribute("colspan","5"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=x("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(x("td","py-2 px-3 font-medium text-[var(--text)]",r.period)),d.appendChild(x("td","py-2 px-3 text-right font-mono text-emerald-400",$(r.inflows))),d.appendChild(x("td","py-2 px-3 text-right font-mono text-red-400",$(r.outflows)));const s=r.netCash>=0?"text-emerald-400":"text-red-400";d.appendChild(x("td",`py-2 px-3 text-right font-mono ${s}`,$(r.netCash)));const u=r.cumulativeCash>=0?"text-emerald-400":"text-red-400";d.appendChild(x("td",`py-2 px-3 text-right font-mono font-bold ${u}`,$(r.cumulativeCash))),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}function se(e){const t=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=x("table","w-full text-sm"),o=x("thead"),n=x("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Date","Description","Type","Amount","Source"]){const d=r==="Amount"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";n.appendChild(x("th",d,r))}o.appendChild(n),a.appendChild(o);const i=x("tbody");if(e.length===0){const r=x("tr"),d=x("td","py-6 px-3 text-center text-[var(--text-muted)]","No upcoming items scheduled.");d.setAttribute("colspan","5"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=x("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(x("td","py-2 px-3 text-[var(--text)]",r.date)),d.appendChild(x("td","py-2 px-3 text-[var(--text)]",r.description));const s=r.type==="inflow"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20",u=x("td","py-2 px-3");u.appendChild(x("span",`px-2 py-0.5 rounded-full text-xs font-medium ${s}`,r.type==="inflow"?"Inflow":"Outflow")),d.appendChild(u);const c=r.type==="inflow"?"text-emerald-400":"text-red-400";d.appendChild(x("td",`py-2 px-3 text-right font-mono ${c}`,$(r.amount))),d.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",r.source)),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}const pe={render(e){e.innerHTML="";const t=x("div","space-y-0"),a=T("ytd",()=>{}),o=R([],"",()=>{}),n=D("Cash Flow Forecasting","Project-based cash flow projections and upcoming payment schedules",a,o);t.appendChild(n),t.appendChild(C("Cash Flow Projection",ie()));const i=[];t.appendChild(C("Monthly Breakdown",le(i)));const r=[];t.appendChild(C("Upcoming Payments & Collections",se(r))),i.length===0&&t.appendChild(k("No cash flow data available. Create invoices and record payments to generate projections.")),e.appendChild(t)}},ce=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));function f(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}const F=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"});function ue(e){const t=f("div","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"),a=[{label:"Total Awarded",value:P(e.totalAwarded,"currency"),cls:"text-blue-400"},{label:"Completed",value:P(e.totalCompleted,"currency"),cls:"text-emerald-400"},{label:"Remaining",value:P(e.totalRemaining,"currency"),cls:"text-amber-400"},{label:"Active Jobs",value:e.jobCount.toString(),cls:"text-[var(--text)]"},{label:"Avg. Completion",value:`${e.averageCompletion.toFixed(1)}%`,cls:"text-[var(--text)]"}];for(const o of a){const n=f("div","p-4 rounded-lg border border-[var(--border)] bg-[var(--surface-raised)]");n.appendChild(f("div","text-xs font-medium text-[var(--text-muted)] uppercase tracking-wide mb-1",o.label)),n.appendChild(f("div",`text-2xl font-bold ${o.cls}`,o.value)),t.appendChild(n)}return t}function be(){const e=f("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),t=f("div","flex items-center justify-center h-64 text-[var(--text-muted)]","Backlog waterfall chart (awarded vs. completed vs. remaining) will render here when Chart.js is connected and job data is available.");return e.appendChild(t),e}function he(e){const t=f("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=f("table","w-full text-sm"),o=f("thead"),n=f("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Job","Contract","Completed","Remaining","% Complete","Status"]){const d=["Contract","Completed","Remaining","% Complete"].includes(r)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";n.appendChild(f("th",d,r))}o.appendChild(n),a.appendChild(o);const i=f("tbody");if(e.length===0){const r=f("tr"),d=f("td","py-6 px-3 text-center text-[var(--text-muted)]","No backlog data available.");d.setAttribute("colspan","6"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=f("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),s=f("td","py-2 px-3"),u=f("a","text-[var(--accent)] hover:underline font-medium",r.jobName);u.href=`#/job/jobs/${r.jobId}`,s.appendChild(u),d.appendChild(s),d.appendChild(f("td","py-2 px-3 text-right font-mono",F(r.contractAmount))),d.appendChild(f("td","py-2 px-3 text-right font-mono text-emerald-400",F(r.completedAmount))),d.appendChild(f("td","py-2 px-3 text-right font-mono text-amber-400",F(r.remainingAmount))),d.appendChild(f("td","py-2 px-3 text-right font-mono",`${r.percentComplete.toFixed(1)}%`));const c=r.status==="active"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",h=f("td","py-2 px-3");h.appendChild(f("span",`px-2 py-0.5 rounded-full text-xs font-medium ${c}`,r.status)),d.appendChild(h),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}function me(){const e=f("div","grid grid-cols-1 md:grid-cols-3 gap-4"),t=[{label:"Bonding Capacity",value:"--",sublabel:"Total available bonding limit"},{label:"Currently Bonded",value:"--",sublabel:"Active bonded project value"},{label:"Utilization",value:"--",sublabel:"Percentage of capacity used"}];for(const a of t){const o=f("div","p-4 rounded-lg border border-[var(--border)] bg-[var(--surface-raised)]");o.appendChild(f("div","text-xs font-medium text-[var(--text-muted)] uppercase tracking-wide mb-1",a.label)),o.appendChild(f("div","text-2xl font-bold text-[var(--text)]",a.value)),o.appendChild(f("div","text-xs text-[var(--text-muted)] mt-1",a.sublabel)),e.appendChild(o)}return e}const xe={render(e){e.innerHTML="";const t=f("div","space-y-0"),a=T("ytd",()=>{}),o=R([],"",()=>{}),n=D("Backlog Analysis","Awarded vs. completed vs. remaining contract values and bonding capacity",a,o);t.appendChild(n);const i={totalAwarded:0,totalCompleted:0,totalRemaining:0,jobCount:0,averageCompletion:0};t.appendChild(C("Backlog Summary",ue(i))),t.appendChild(C("Backlog Waterfall",be()));const r=[];t.appendChild(C("Backlog Detail",he(r))),t.appendChild(C("Bonding Capacity",me())),r.length===0&&t.appendChild(k("No backlog data available. Create jobs with contract amounts to see backlog analysis.","Go to Jobs",()=>{window.location.hash="#/job/jobs"})),e.appendChild(t)}},fe=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));function v(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}const O=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"});function ge(e){const t=v("div","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),a=[{label:"Total Equipment",value:e.totalUnits.toString(),cls:"text-[var(--text)]"},{label:"Assigned",value:e.assignedUnits.toString(),cls:"text-emerald-400"},{label:"Available",value:e.availableUnits.toString(),cls:"text-blue-400"},{label:"Utilization Rate",value:`${e.overallUtilization.toFixed(1)}%`,cls:e.overallUtilization>=60?"text-emerald-400":"text-amber-400"}];for(const o of a){const n=v("div","p-4 rounded-lg border border-[var(--border)] bg-[var(--surface-raised)]");n.appendChild(v("div","text-xs font-medium text-[var(--text-muted)] uppercase tracking-wide mb-1",o.label)),n.appendChild(v("div",`text-2xl font-bold ${o.cls}`,o.value)),t.appendChild(n)}return t}function ve(){const e=v("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),t=v("div","flex items-center justify-center h-48 text-[var(--text-muted)]","Equipment utilization chart will render here when Chart.js is connected and equipment data is available.");return e.appendChild(t),e}function Ce(e){const t=v("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=v("table","w-full text-sm"),o=v("thead"),n=v("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Equipment","Type","Status","Assigned Job","Hours","Cost/Hr","Total Cost","Util. %"]){const d=["Hours","Cost/Hr","Total Cost","Util. %"].includes(r)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";n.appendChild(v("th",d,r))}o.appendChild(n),a.appendChild(o);const i=v("tbody");if(e.length===0){const r=v("tr"),d=v("td","py-6 px-3 text-center text-[var(--text-muted)]","No equipment data available.");d.setAttribute("colspan","8"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=v("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),s=v("td","py-2 px-3"),u=v("a","text-[var(--accent)] hover:underline font-medium",r.name);u.href=`#/equip/equipment/${r.id}`,s.appendChild(u),d.appendChild(s),d.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",r.type));const c={assigned:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",available:"bg-blue-500/10 text-blue-400 border border-blue-500/20",maintenance:"bg-amber-500/10 text-amber-400 border border-amber-500/20",retired:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"},h=v("td","py-2 px-3");h.appendChild(v("span",`px-2 py-0.5 rounded-full text-xs font-medium ${c[r.status]??c.available}`,r.status)),d.appendChild(h),d.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",r.assignedJob||"--")),d.appendChild(v("td","py-2 px-3 text-right font-mono",r.hoursUsed.toFixed(0))),d.appendChild(v("td","py-2 px-3 text-right font-mono",O(r.costPerHour))),d.appendChild(v("td","py-2 px-3 text-right font-mono",O(r.totalCost)));const y=r.utilizationPct>=60?"text-emerald-400":r.utilizationPct>=40?"text-amber-400":"text-red-400";d.appendChild(v("td",`py-2 px-3 text-right font-mono ${y}`,`${r.utilizationPct.toFixed(1)}%`)),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}const ye={render(e){e.innerHTML="";const t=v("div","space-y-0"),a=T("ytd",()=>{}),o=R([],"",()=>{}),n=D("Equipment Utilization","Equipment assignment, utilization rates, and cost analysis",a,o);t.appendChild(n);const i={totalUnits:0,assignedUnits:0,availableUnits:0,overallUtilization:0};t.appendChild(C("Utilization Summary",ge(i))),t.appendChild(C("Utilization Trend",ve()));const r=[];t.appendChild(C("Equipment Detail",Ce(r))),r.length===0&&t.appendChild(k("No equipment data available. Add equipment records to see utilization metrics.","Go to Equipment",()=>{window.location.hash="#/equip/equipment"})),e.appendChild(t)}},we=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));function m(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}const j=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}),M=e=>`${e.toFixed(1)}%`;function Se(e){const t=m("div","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"),a=[{label:"Total Base Wages",value:j(e.totalBaseWages),cls:"text-[var(--text)]"},{label:"Total Burden",value:j(e.totalBurden),cls:"text-amber-400"},{label:"Burden Rate",value:M(e.burdenRate),cls:e.burdenRate<=45?"text-emerald-400":"text-red-400"},{label:"Employees",value:e.employeeCount.toString(),cls:"text-[var(--text)]"},{label:"Avg. Burden/Employee",value:j(e.averageBurdenPerEmployee),cls:"text-[var(--text)]"}];for(const o of a){const n=m("div","p-4 rounded-lg border border-[var(--border)] bg-[var(--surface-raised)]");n.appendChild(m("div","text-xs font-medium text-[var(--text-muted)] uppercase tracking-wide mb-1",o.label)),n.appendChild(m("div",`text-2xl font-bold ${o.cls}`,o.value)),t.appendChild(n)}return t}function _e(e){const t=m("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=m("table","w-full text-sm"),o=m("thead"),n=m("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Category","Amount","Percentage"]){const d=r!=="Category"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";n.appendChild(m("th",d,r))}o.appendChild(n),a.appendChild(o);const i=m("tbody");if(e.length===0){const r=m("tr"),d=m("td","py-6 px-3 text-center text-[var(--text-muted)]","No burden data available.");d.setAttribute("colspan","3"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=m("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(m("td","py-2 px-3 font-medium text-[var(--text)]",r.category)),d.appendChild(m("td","py-2 px-3 text-right font-mono",j(r.amount))),d.appendChild(m("td","py-2 px-3 text-right font-mono",M(r.percentage))),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}function Pe(){const e=m("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),t=m("div","flex items-center justify-center h-48 text-[var(--text-muted)]","Payroll burden trend chart will render here when Chart.js is connected and payroll data is available.");return e.appendChild(t),e}function Te(e){const t=m("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=m("table","w-full text-sm"),o=m("thead"),n=m("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Employee","Classification","Base Wages","Burden","Burden Rate"]){const d=["Base Wages","Burden","Burden Rate"].includes(r)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";n.appendChild(m("th",d,r))}o.appendChild(n),a.appendChild(o);const i=m("tbody");if(e.length===0){const r=m("tr"),d=m("td","py-6 px-3 text-center text-[var(--text-muted)]","No employee burden data available.");d.setAttribute("colspan","5"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=m("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(m("td","py-2 px-3 font-medium text-[var(--text)]",r.employeeName)),d.appendChild(m("td","py-2 px-3 text-[var(--text-muted)]",r.classification)),d.appendChild(m("td","py-2 px-3 text-right font-mono",j(r.baseWages))),d.appendChild(m("td","py-2 px-3 text-right font-mono text-amber-400",j(r.burdenAmount)));const s=r.burdenRate<=45?"text-emerald-400":"text-red-400";d.appendChild(m("td",`py-2 px-3 text-right font-mono ${s}`,M(r.burdenRate))),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}const Re={render(e){e.innerHTML="";const t=m("div","space-y-0"),a=T("ytd",()=>{}),o=R([],"",()=>{}),n=D("Payroll Burden Analysis","Burden rates, breakdown by category, and per-employee analysis",a,o);t.appendChild(n);const i={totalBaseWages:0,totalBurden:0,burdenRate:0,employeeCount:0,averageBurdenPerEmployee:0};t.appendChild(C("Payroll Summary",Se(i)));const r=[];t.appendChild(C("Burden Breakdown",_e(r))),t.appendChild(C("Burden Trend",Pe()));const d=[];t.appendChild(C("Employee Burden Detail",Te(d))),d.length===0&&t.appendChild(k("No payroll data available. Process payroll runs to see burden analysis.","Go to Payroll",()=>{window.location.hash="#/payroll/runs"})),e.appendChild(t)}},De=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"}));function b(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}function Ee(e){const t=b("div","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),a=e.trir<=2?"text-emerald-400":e.trir<=4?"text-amber-400":"text-red-400",o=e.dart<=1.5?"text-emerald-400":e.dart<=3?"text-amber-400":"text-red-400",n=e.emr<=1?"text-emerald-400":e.emr<=1.2?"text-amber-400":"text-red-400",i=[{label:"TRIR",value:e.trir.toFixed(2),sublabel:"Total Recordable Incident Rate",cls:a},{label:"DART",value:e.dart.toFixed(2),sublabel:"Days Away/Restricted/Transfer Rate",cls:o},{label:"EMR",value:e.emr.toFixed(2),sublabel:"Experience Modification Rate",cls:n},{label:"Hours Worked",value:e.totalHoursWorked.toLocaleString(),sublabel:"Total hours in period",cls:"text-[var(--text)]"}];for(const r of i){const d=b("div","p-4 rounded-lg border border-[var(--border)] bg-[var(--surface-raised)]");d.appendChild(b("div","text-xs font-medium text-[var(--text-muted)] uppercase tracking-wide mb-1",r.label)),d.appendChild(b("div",`text-2xl font-bold ${r.cls}`,r.value)),d.appendChild(b("div","text-xs text-[var(--text-muted)] mt-1",r.sublabel)),t.appendChild(d)}return t}function Ie(e){const t=b("div","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"),a=[{label:"Recordable Incidents",value:e.recordableIncidents.toString(),cls:e.recordableIncidents===0?"text-emerald-400":"text-amber-400"},{label:"DART Incidents",value:e.dartIncidents.toString(),cls:e.dartIncidents===0?"text-emerald-400":"text-amber-400"},{label:"Near Misses",value:e.nearMisses.toString(),cls:"text-blue-400"},{label:"Training Hours",value:e.safetyTrainingHours.toLocaleString(),cls:"text-[var(--text)]"}];for(const o of a){const n=b("div","p-4 rounded-lg border border-[var(--border)] bg-[var(--surface-raised)]");n.appendChild(b("div","text-xs font-medium text-[var(--text-muted)] uppercase tracking-wide mb-1",o.label)),n.appendChild(b("div",`text-2xl font-bold ${o.cls}`,o.value)),t.appendChild(n)}return t}function je(){const e=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),t=b("div","flex items-center justify-center h-48 text-[var(--text-muted)]","Safety metrics trend chart (TRIR, DART, EMR over time) will render here when Chart.js is connected and safety data is available.");return e.appendChild(t),e}function ke(e){const t=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=b("table","w-full text-sm"),o=b("thead"),n=b("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Date","Description","Type","Severity","Job","Status"])n.appendChild(b("th","py-2 px-3 font-medium",r));o.appendChild(n),a.appendChild(o);const i=b("tbody");if(e.length===0){const r=b("tr"),d=b("td","py-6 px-3 text-center text-[var(--text-muted)]","No incidents recorded. Use the form below to enter safety data.");d.setAttribute("colspan","6"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=b("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(b("td","py-2 px-3 text-[var(--text)]",r.date)),d.appendChild(b("td","py-2 px-3 text-[var(--text)]",r.description)),d.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",r.type));const s={low:"bg-blue-500/10 text-blue-400 border border-blue-500/20",medium:"bg-amber-500/10 text-amber-400 border border-amber-500/20",high:"bg-red-500/10 text-red-400 border border-red-500/20",critical:"bg-red-700/10 text-red-500 border border-red-700/20"},u=b("td","py-2 px-3");u.appendChild(b("span",`px-2 py-0.5 rounded-full text-xs font-medium ${s[r.severity]??s.low}`,r.severity)),d.appendChild(u),d.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",r.jobName));const c={open:"bg-amber-500/10 text-amber-400 border border-amber-500/20",investigating:"bg-blue-500/10 text-blue-400 border border-blue-500/20",closed:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"},h=b("td","py-2 px-3");h.appendChild(b("span",`px-2 py-0.5 rounded-full text-xs font-medium ${c[r.status]??c.open}`,r.status)),d.appendChild(h),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}function $e(){const e=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),t="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)] w-full",a=b("div","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"),o=[{label:"TRIR",placeholder:"e.g. 2.5",type:"number"},{label:"DART Rate",placeholder:"e.g. 1.5",type:"number"},{label:"EMR",placeholder:"e.g. 0.95",type:"number"},{label:"Hours Worked",placeholder:"e.g. 250000",type:"number"},{label:"Recordable Incidents",placeholder:"e.g. 3",type:"number"},{label:"Near Misses",placeholder:"e.g. 12",type:"number"}];for(const r of o){const d=b("div");d.appendChild(b("label","block text-xs font-medium text-[var(--text-muted)] mb-1",r.label));const s=b("input",t);s.type=r.type,s.placeholder=r.placeholder,d.appendChild(s),a.appendChild(d)}e.appendChild(a);const n=b("div","mt-4 flex justify-end"),i=b("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save Safety Metrics");return n.appendChild(i),e.appendChild(n),e}const Be={render(e){e.innerHTML="";const t=b("div","space-y-0"),a=T("ytd",()=>{}),o=R([],"",()=>{}),n=D("Safety Metrics","TRIR, DART, EMR tracking with incident reporting and safety trend analysis",a,o);t.appendChild(n);const i={trir:0,dart:0,emr:0,totalHoursWorked:0,recordableIncidents:0,dartIncidents:0,nearMisses:0,safetyTrainingHours:0};t.appendChild(C("Safety KPIs",Ee(i))),t.appendChild(C("Incident Summary",Ie(i))),t.appendChild(C("Safety Trend",je()));const r=[];t.appendChild(C("Incident Log",ke(r))),t.appendChild(C("Enter Safety Data",$e())),e.appendChild(t)}},Ae=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));function l(e,t,a){const o=document.createElement(e);return t&&(o.className=t),a!==void 0&&(o.textContent=a),o}function Fe(e){const t=l("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=l("table","w-full text-sm"),o=l("thead"),n=l("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Name","Description","Layout","Widgets","Default","Actions"])n.appendChild(l("th","py-2 px-3 font-medium",r));o.appendChild(n),a.appendChild(o);const i=l("tbody");if(e.length===0){const r=l("tr"),d=l("td","py-6 px-3 text-center text-[var(--text-muted)]","No dashboards configured. Create your first dashboard to get started.");d.setAttribute("colspan","6"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=l("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(l("td","py-2 px-3 font-medium text-[var(--text)]",r.name)),d.appendChild(l("td","py-2 px-3 text-[var(--text-muted)]",r.description)),d.appendChild(l("td","py-2 px-3 text-[var(--text-muted)]",r.layout)),d.appendChild(l("td","py-2 px-3 text-[var(--text)]",r.widgetCount.toString()));const s=l("td","py-2 px-3");r.isDefault?s.appendChild(l("span","px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-500/10 text-emerald-400 border border-emerald-500/20","Default")):s.appendChild(l("span","text-[var(--text-muted)] text-xs","--")),d.appendChild(s);const u=l("td","py-2 px-3"),c=l("button","text-[var(--accent)] hover:underline text-sm mr-3","Edit"),h=l("button","text-red-400 hover:underline text-sm","Delete");u.appendChild(c),u.appendChild(h),d.appendChild(u),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}function Me(){const e=l("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),t="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)] w-full",a=l("div","space-y-4"),o=l("div");o.appendChild(l("label","block text-xs font-medium text-[var(--text-muted)] mb-1","Dashboard Name"));const n=l("input",t);n.type="text",n.placeholder="e.g. Executive Overview",o.appendChild(n),a.appendChild(o);const i=l("div");i.appendChild(l("label","block text-xs font-medium text-[var(--text-muted)] mb-1","Description"));const r=l("input",t);r.type="text",r.placeholder="Brief description of the dashboard",i.appendChild(r),a.appendChild(i);const d=l("div");d.appendChild(l("label","block text-xs font-medium text-[var(--text-muted)] mb-1","Layout"));const s=l("select",t);for(const E of[{value:"grid",label:"Grid"},{value:"list",label:"List"},{value:"free",label:"Free Form"}]){const _=l("option","",E.label);_.value=E.value,s.appendChild(_)}d.appendChild(s),a.appendChild(d);const u=l("div","flex items-center gap-2"),c=l("input");c.type="checkbox",c.id="is-default",u.appendChild(c);const h=l("label","text-sm text-[var(--text)]","Set as default dashboard");h.htmlFor="is-default",u.appendChild(h),a.appendChild(u);const y=l("div","flex justify-end"),S=l("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Create Dashboard");return y.appendChild(S),a.appendChild(y),e.appendChild(a),e}function Le(e){const t=l("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),a=l("table","w-full text-sm"),o=l("thead"),n=l("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const r of["Code","Name","Category","Format","Source","Actions"])n.appendChild(l("th","py-2 px-3 font-medium",r));o.appendChild(n),a.appendChild(o);const i=l("tbody");if(e.length===0){const r=l("tr"),d=l("td","py-6 px-3 text-center text-[var(--text-muted)]","No KPI definitions. Built-in KPIs are available by default.");d.setAttribute("colspan","6"),r.appendChild(d),i.appendChild(r)}for(const r of e){const d=l("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(l("td","py-2 px-3 font-mono text-[var(--accent)]",r.code)),d.appendChild(l("td","py-2 px-3 font-medium text-[var(--text)]",r.name)),d.appendChild(l("td","py-2 px-3 text-[var(--text-muted)]",r.category)),d.appendChild(l("td","py-2 px-3 text-[var(--text-muted)]",r.format));const s=l("td","py-2 px-3"),u=r.isBuiltin?"Built-in":"Custom",c=r.isBuiltin?"bg-blue-500/10 text-blue-400 border border-blue-500/20":"bg-purple-500/10 text-purple-400 border border-purple-500/20";s.appendChild(l("span",`px-2 py-0.5 rounded-full text-xs font-medium ${c}`,u)),d.appendChild(s);const h=l("td","py-2 px-3");if(r.isBuiltin)h.appendChild(l("span","text-[var(--text-muted)] text-xs","Read-only"));else{const y=l("button","text-[var(--accent)] hover:underline text-sm mr-3","Edit"),S=l("button","text-red-400 hover:underline text-sm","Delete");h.appendChild(y),h.appendChild(S)}d.appendChild(h),i.appendChild(d)}return a.appendChild(i),t.appendChild(a),t}function Ne(){const e=l("div","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"),t=[{type:"kpi_card",label:"KPI Card",description:"Single metric with status and trend"},{type:"chart",label:"Chart",description:"Line, bar, pie, or area chart"},{type:"table",label:"Table",description:"Tabular data with sorting"},{type:"gauge",label:"Gauge",description:"Circular gauge with thresholds"},{type:"trend",label:"Trend",description:"Sparkline trend indicator"}];for(const a of t){const o=l("div","p-4 rounded-lg border border-[var(--border)] bg-[var(--surface)] hover:bg-[var(--surface-raised)] transition-colors cursor-pointer text-center");o.appendChild(l("div","text-sm font-medium text-[var(--text)] mb-1",a.label)),o.appendChild(l("div","text-xs text-[var(--text-muted)]",a.description)),e.appendChild(o)}return e}const Oe={render(e){e.innerHTML="";const t=l("div","space-y-0"),a=l("div","flex items-center justify-between mb-6"),o=l("div");o.appendChild(l("h1","text-2xl font-bold text-[var(--text)]","Configure Dashboard")),o.appendChild(l("p","text-sm text-[var(--text-muted)] mt-1","Manage dashboards, widgets, KPI definitions, and thresholds")),a.appendChild(o),t.appendChild(a);const n=[];t.appendChild(C("Dashboards",Fe(n))),t.appendChild(C("Create Dashboard",Me())),t.appendChild(C("Available Widget Types",Ne()));const i=[];t.appendChild(C("KPI Definitions",Le(i))),e.appendChild(t)}},Ue=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"}));export{qe as d};
