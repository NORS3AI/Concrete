import{_ as P}from"./module-gl-DpMMjp0h.js";const Ke={id:"concrete.ar",name:"Accounts Receivable",description:"Customer management, AR invoicing (progress, T&M, unit-price, cost-plus, lump-sum), AIA G702/G703 billing, payments, retainage tracking, billing schedules, aging reports, and overbilling analysis",version:"1.0.0",phase:5,dependencies:["concrete.gl","concrete.entity","concrete.job"],collections:["ar/customer","ar/invoice","ar/invoiceLine","ar/payment","ar/paymentApplication","ar/aiaApplication","ar/retainage","ar/billingSchedule","ar/billingMilestone"],routes:[{path:"/ar/customers",component:()=>P(()=>Promise.resolve().then(()=>te),void 0,import.meta.url),title:"Customers",icon:"users"},{path:"/ar/customers/new",component:()=>P(()=>Promise.resolve().then(()=>M),void 0,import.meta.url),title:"New Customer",icon:"user-plus"},{path:"/ar/customers/:id",component:()=>P(()=>Promise.resolve().then(()=>M),void 0,import.meta.url),title:"Edit Customer",icon:"edit"},{path:"/ar/invoices",component:()=>P(()=>Promise.resolve().then(()=>ue),void 0,import.meta.url),title:"Invoices",icon:"file-text"},{path:"/ar/invoices/new",component:()=>P(()=>Promise.resolve().then(()=>V),void 0,import.meta.url),title:"New Invoice",icon:"plus"},{path:"/ar/invoices/:id",component:()=>P(()=>Promise.resolve().then(()=>V),void 0,import.meta.url),title:"Edit Invoice",icon:"edit"},{path:"/ar/payments",component:()=>P(()=>Promise.resolve().then(()=>Te),void 0,import.meta.url),title:"Payments",icon:"credit-card"},{path:"/ar/aia",component:()=>P(()=>Promise.resolve().then(()=>Ne),void 0,import.meta.url),title:"AIA Billing",icon:"clipboard"},{path:"/ar/aging",component:()=>P(()=>Promise.resolve().then(()=>ke),void 0,import.meta.url),title:"Customer Aging",icon:"clock"},{path:"/ar/retainage",component:()=>P(()=>Promise.resolve().then(()=>He),void 0,import.meta.url),title:"Retainage",icon:"lock"},{path:"/ar/billing-schedules",component:()=>P(()=>Promise.resolve().then(()=>We),void 0,import.meta.url),title:"Billing Schedules",icon:"calendar"}],navItems:[{id:"ar",label:"AR",icon:"dollar-sign",path:"/ar/customers",order:50},{id:"ar-customers",label:"Customers",icon:"users",path:"/ar/customers",order:1,parent:"ar"},{id:"ar-invoices",label:"Invoices",icon:"file-text",path:"/ar/invoices",order:2,parent:"ar"},{id:"ar-payments",label:"Payments",icon:"credit-card",path:"/ar/payments",order:3,parent:"ar"},{id:"ar-aia",label:"AIA Billing",icon:"clipboard",path:"/ar/aia",order:4,parent:"ar"},{id:"ar-aging",label:"Aging",icon:"clock",path:"/ar/aging",order:5,parent:"ar"},{id:"ar-retainage",label:"Retainage",icon:"lock",path:"/ar/retainage",order:6,parent:"ar"},{id:"ar-billing-schedules",label:"Billing Schedules",icon:"calendar",path:"/ar/billing-schedules",order:7,parent:"ar"}],dashboardWidgets:[],settings:[],permissions:[{resource:"ar.customer",actions:["create","read","update","delete","export"],description:"Customer management"},{resource:"ar.invoice",actions:["create","read","update","send","void","export"],description:"AR invoice management"},{resource:"ar.payment",actions:["create","read","apply","void","export"],description:"Payment processing"},{resource:"ar.aia",actions:["create","read","update","submit","approve","export"],description:"AIA G702/G703 billing"},{resource:"ar.retainage",actions:["create","read","release","export"],description:"Retainage tracking"},{resource:"ar.billingSchedule",actions:["create","read","update","delete"],description:"Billing schedule management"},{resource:"ar.report",actions:["read","export"],description:"AR reports (aging, retainage aging, overbilling)"}],workflows:[],importTypes:[{id:"ar-receivables",label:"Import AR Receivables",collection:"ar/invoice",fields:[{name:"customerName",type:"string",required:!0,label:"Customer Name"},{name:"invoiceNumber",type:"string",required:!0,label:"Invoice Number"},{name:"invoiceDate",type:"string",required:!0,label:"Invoice Date"},{name:"amount",type:"number",required:!0,label:"Amount"},{name:"dueDate",type:"string",label:"Due Date"},{name:"billingType",type:"string",label:"Billing Type"},{name:"retainageAmount",type:"number",label:"Retainage Amount"},{name:"description",type:"string",label:"Description"}],autoDetectHeaders:!0}],exportTypes:[{id:"ar-aging",label:"Export AR Aging",collection:"ar/invoice",defaultFields:["customerId","invoiceNumber","invoiceDate","dueDate","amount","balanceDue","status"]},{id:"ar-aia-billing",label:"Export AIA Billing",collection:"ar/aiaApplication",defaultFields:["jobId","applicationNumber","periodTo","contractSum","totalCompleted","retainageAmount","status"]}],hooks:[]},R=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function g(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const Z=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"hold",label:"Hold"}],U={active:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",inactive:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",hold:"bg-amber-500/10 text-amber-400 border border-amber-500/20"};function K(a){const t=g("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=g("input",n);r.type="text",r.placeholder="Search customers...",t.appendChild(r);const i=g("select",n);for(const e of Z){const d=g("option","",e.label);d.value=e.value,i.appendChild(d)}t.appendChild(i);const o=()=>a(i.value,r.value);return i.addEventListener("change",o),r.addEventListener("input",o),t}function X(a){const t=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=g("table","w-full text-sm"),r=g("thead"),i=g("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Code","Name","Status","Contact","Phone","Email","Credit Limit","YTD Billings","YTD Payments","Actions"]){const d=["Credit Limit","YTD Billings","YTD Payments"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";i.appendChild(g("th",d,e))}r.appendChild(i),n.appendChild(r);const o=g("tbody");if(a.length===0){const e=g("tr"),d=g("td","py-8 px-3 text-center text-[var(--text-muted)]","No customers found. Create your first customer to get started.");d.setAttribute("colspan","10"),e.appendChild(d),o.appendChild(e)}for(const e of a){const d=g("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),p=g("td","py-2 px-3 font-mono"),l=g("a","text-[var(--accent)] hover:underline",e.code);l.href=`#/ar/customers/${e.id}`,p.appendChild(l),d.appendChild(p),d.appendChild(g("td","py-2 px-3 font-medium text-[var(--text)]",e.name));const u=g("td","py-2 px-3"),m=g("span",`px-2 py-0.5 rounded-full text-xs font-medium ${U[e.status]??U.active}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));u.appendChild(m),d.appendChild(u),d.appendChild(g("td","py-2 px-3 text-[var(--text-muted)]",e.contactName)),d.appendChild(g("td","py-2 px-3 text-[var(--text-muted)]",e.contactPhone)),d.appendChild(g("td","py-2 px-3 text-[var(--text-muted)]",e.contactEmail)),d.appendChild(g("td","py-2 px-3 text-right font-mono",R(e.creditLimit))),d.appendChild(g("td","py-2 px-3 text-right font-mono",R(e.ytdBillings))),d.appendChild(g("td","py-2 px-3 text-right font-mono",R(e.ytdPayments)));const C=g("td","py-2 px-3"),_=g("a","text-[var(--accent)] hover:underline text-sm","Edit");_.href=`#/ar/customers/${e.id}`,C.appendChild(_),d.appendChild(C),o.appendChild(d)}return n.appendChild(o),t.appendChild(n),t}const ee={render(a){a.innerHTML="";const t=g("div","space-y-0"),n=g("div","flex items-center justify-between mb-4");n.appendChild(g("h1","text-2xl font-bold text-[var(--text)]","Customers"));const r=g("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");r.href="#/ar/customers/new",r.textContent="New Customer",n.appendChild(r),t.appendChild(n),t.appendChild(K((o,e)=>{}));const i=[];t.appendChild(X(i)),a.appendChild(t)}},te=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));function y(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const ne=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"hold",label:"Hold"}],de=[{value:"net10",label:"Net 10"},{value:"net15",label:"Net 15"},{value:"net30",label:"Net 30"},{value:"net45",label:"Net 45"},{value:"net60",label:"Net 60"},{value:"net90",label:"Net 90"},{value:"due_on_receipt",label:"Due on Receipt"}];function T(a,t,n){const r=y("div",n===2?"col-span-2":"");return r.appendChild(y("label","block text-sm font-medium text-[var(--text-muted)] mb-1",a)),r.appendChild(t),r}function L(a,t){const n=y("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return n.type="text",n.name=a,t&&(n.placeholder=t),n}function re(a,t){const n=y("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return n.type="number",n.name=a,n.step="0.01",n.placeholder=t,n}function j(a,t){const n=y("select","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");n.name=a;for(const r of t){const i=y("option","",r.label);i.value=r.value,n.appendChild(i)}return n}function ae(a,t){const n=y("textarea","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return n.name=a,n.rows=t,n}const oe={render(a){a.innerHTML="";const t=y("div","space-y-0"),n=y("div","flex items-center justify-between mb-6");n.appendChild(y("h1","text-2xl font-bold text-[var(--text)]","Customer Details"));const r=y("a","text-sm text-[var(--text-muted)] hover:text-[var(--text)]","Back to Customers");r.href="#/ar/customers",n.appendChild(r),t.appendChild(n);const i=y("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),o=y("form","space-y-6");o.appendChild(y("h2","text-lg font-semibold text-[var(--text)] mb-2","General Information"));const e=y("div","grid grid-cols-2 gap-4");e.appendChild(T("Customer Code",L("code","Auto-generated if blank"))),e.appendChild(T("Customer Name",L("name","Enter customer name"))),e.appendChild(T("Status",j("status",ne))),e.appendChild(T("Credit Limit",re("creditLimit","0.00"))),o.appendChild(e),o.appendChild(y("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Contact Information"));const d=y("div","grid grid-cols-2 gap-4");d.appendChild(T("Contact Name",L("contactName","Primary contact"))),d.appendChild(T("Contact Phone",L("contactPhone","(555) 555-5555"))),d.appendChild(T("Contact Email",L("contactEmail","email@example.com"))),o.appendChild(d),o.appendChild(y("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Address"));const p=y("div","grid grid-cols-2 gap-4");p.appendChild(T("Address",L("address","Street address"))),p.appendChild(T("City",L("city","City"))),p.appendChild(T("State",L("state","State"))),p.appendChild(T("ZIP Code",L("zip","ZIP code"))),o.appendChild(p),o.appendChild(y("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Billing Terms"));const l=y("div","grid grid-cols-2 gap-4");l.appendChild(T("Payment Terms",j("terms",de))),l.appendChild(T("Entity",L("entityId","Select entity"))),o.appendChild(l),o.appendChild(y("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Notes")),o.appendChild(T("Internal Notes",ae("notes",4),2));const u=y("div","flex items-center gap-3 mt-6"),m=y("button","px-6 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save Customer");m.type="button",m.addEventListener("click",()=>{}),u.appendChild(m);const C=y("a","px-6 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] border border-[var(--border)]","Cancel");C.href="#/ar/customers",u.appendChild(C),o.appendChild(u),i.appendChild(o),t.appendChild(i),a.appendChild(t)}},M=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),B=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function v(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const ie=[{value:"",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"sent",label:"Sent"},{value:"partial",label:"Partially Paid"},{value:"paid",label:"Paid"},{value:"overdue",label:"Overdue"},{value:"voided",label:"Voided"}],pe=[{value:"",label:"All Types"},{value:"progress",label:"Progress"},{value:"tm",label:"T&M"},{value:"unit_price",label:"Unit Price"},{value:"cost_plus",label:"Cost Plus"},{value:"lump_sum",label:"Lump Sum"}],G={draft:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",sent:"bg-blue-500/10 text-blue-400 border border-blue-500/20",partial:"bg-purple-500/10 text-purple-400 border border-purple-500/20",paid:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",overdue:"bg-red-500/10 text-red-400 border border-red-500/20",voided:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"};function le(a){const t=v("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=v("input",n);r.type="text",r.placeholder="Search invoices...",t.appendChild(r);const i=v("select",n);for(const m of ie){const C=v("option","",m.label);C.value=m.value,i.appendChild(C)}t.appendChild(i);const o=v("select",n);for(const m of pe){const C=v("option","",m.label);C.value=m.value,o.appendChild(C)}t.appendChild(o);const e=v("span","text-sm text-[var(--text-muted)]","From:");t.appendChild(e);const d=v("input",n);d.type="date",t.appendChild(d);const p=v("span","text-sm text-[var(--text-muted)]","To:");t.appendChild(p);const l=v("input",n);l.type="date",t.appendChild(l);const u=()=>a(i.value,o.value,r.value,d.value,l.value);return i.addEventListener("change",u),o.addEventListener("change",u),r.addEventListener("input",u),d.addEventListener("change",u),l.addEventListener("change",u),t}function se(a){const t=v("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=v("table","w-full text-sm"),r=v("thead"),i=v("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Invoice #","Customer","Job","Type","Date","Due Date","Amount","Retainage","Balance Due","Status","Actions"]){const d=["Amount","Retainage","Balance Due"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";i.appendChild(v("th",d,e))}r.appendChild(i),n.appendChild(r);const o=v("tbody");if(a.length===0){const e=v("tr"),d=v("td","py-8 px-3 text-center text-[var(--text-muted)]","No invoices found. Create your first invoice to get started.");d.setAttribute("colspan","11"),e.appendChild(d),o.appendChild(e)}for(const e of a){const d=v("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),p=v("td","py-2 px-3 font-mono"),l=v("a","text-[var(--accent)] hover:underline",e.invoiceNumber);l.href=`#/ar/invoices/${e.id}`,p.appendChild(l),d.appendChild(p),d.appendChild(v("td","py-2 px-3 text-[var(--text)]",e.customerName)),d.appendChild(v("td","py-2 px-3 text-[var(--text-muted)] font-mono",e.jobNumber)),d.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",e.billingType)),d.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",e.invoiceDate)),d.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",e.dueDate)),d.appendChild(v("td","py-2 px-3 text-right font-mono",B(e.amount))),d.appendChild(v("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",B(e.retainageAmount))),d.appendChild(v("td","py-2 px-3 text-right font-mono font-medium",B(e.balanceDue)));const u=v("td","py-2 px-3"),m=v("span",`px-2 py-0.5 rounded-full text-xs font-medium ${G[e.status]??G.draft}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));u.appendChild(m),d.appendChild(u);const C=v("td","py-2 px-3"),_=v("a","text-[var(--accent)] hover:underline text-sm mr-2","Edit");_.href=`#/ar/invoices/${e.id}`,C.appendChild(_);const I=v("a","text-[var(--accent)] hover:underline text-sm","View");I.href=`#/ar/invoices/${e.id}`,C.appendChild(I),d.appendChild(C),o.appendChild(d)}return n.appendChild(o),t.appendChild(n),t}const ce={render(a){a.innerHTML="";const t=v("div","space-y-0"),n=v("div","flex items-center justify-between mb-4");n.appendChild(v("h1","text-2xl font-bold text-[var(--text)]","AR Invoices"));const r=v("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");r.href="#/ar/invoices/new",r.textContent="New Invoice",n.appendChild(r),t.appendChild(n),t.appendChild(le((o,e,d,p,l)=>{}));const i=[];t.appendChild(se(i)),a.appendChild(t)}},ue=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),D=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function c(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const me=[{value:"draft",label:"Draft"},{value:"sent",label:"Sent"},{value:"partial",label:"Partially Paid"},{value:"paid",label:"Paid"},{value:"overdue",label:"Overdue"},{value:"voided",label:"Voided"}],xe=[{value:"progress",label:"Progress Billing"},{value:"tm",label:"Time & Material"},{value:"unit_price",label:"Unit Price"},{value:"cost_plus",label:"Cost Plus"},{value:"lump_sum",label:"Lump Sum"}];function E(a,t,n){const r=c("div",n===2?"col-span-2":"");return r.appendChild(c("label","block text-sm font-medium text-[var(--text-muted)] mb-1",a)),r.appendChild(t),r}function $(a,t){const n=c("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return n.type="text",n.name=a,t&&(n.placeholder=t),n}function F(a){const t=c("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return t.type="date",t.name=a,t}function z(a,t){const n=c("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return n.type="number",n.name=a,n.step="0.01",t&&(n.placeholder=t),n}function H(a,t){const n=c("select","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");n.name=a;for(const r of t){const i=c("option","",r.label);i.value=r.value,n.appendChild(i)}return n}function be(a,t){const n=c("textarea","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return n.name=a,n.rows=t,n}function he(a){const t=c("div","space-y-3");t.appendChild(c("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Line Items"));const n=c("div","bg-[var(--surface)] border border-[var(--border)] rounded-lg overflow-hidden"),r=c("table","w-full text-sm"),i=c("thead"),o=c("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const p of["#","Description","Qty","Unit Price","Amount","Cost Code","Cost Type","Markup %","Actions"]){const l=["Qty","Unit Price","Amount","Markup %"].includes(p)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";o.appendChild(c("th",l,p))}i.appendChild(o),r.appendChild(i);const e=c("tbody");if(a.length===0){const p=c("tr"),l=c("td","py-6 px-3 text-center text-[var(--text-muted)]",'No line items. Click "Add Line" to add invoice line items.');l.setAttribute("colspan","9"),p.appendChild(l),e.appendChild(p)}for(const p of a){const l=c("tr","border-b border-[var(--border)]");l.appendChild(c("td","py-2 px-3 font-mono text-[var(--text-muted)]",String(p.lineNumber))),l.appendChild(c("td","py-2 px-3",p.description)),l.appendChild(c("td","py-2 px-3 text-right font-mono",String(p.quantity))),l.appendChild(c("td","py-2 px-3 text-right font-mono",D(p.unitPrice))),l.appendChild(c("td","py-2 px-3 text-right font-mono font-medium",D(p.amount))),l.appendChild(c("td","py-2 px-3 font-mono",p.costCode)),l.appendChild(c("td","py-2 px-3",p.costType)),l.appendChild(c("td","py-2 px-3 text-right font-mono",`${p.markupPct}%`));const u=c("td","py-2 px-3"),m=c("button","text-red-400 hover:text-red-300 text-sm","Remove");m.type="button",u.appendChild(m),l.appendChild(u),e.appendChild(l)}r.appendChild(e),n.appendChild(r),t.appendChild(n);const d=c("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)] hover:border-[var(--accent)]","Add Line");return d.type="button",d.addEventListener("click",()=>{}),t.appendChild(d),t}function ve(){const a=c("div","bg-[var(--surface)] border border-[var(--border)] rounded-lg p-4 mt-4"),t=c("div","grid grid-cols-5 gap-4 text-sm"),n=(r,i)=>{const o=c("div","text-right");return o.appendChild(c("div","text-[var(--text-muted)]",r)),o.appendChild(c("div","font-mono font-medium text-[var(--text)]",i)),o};return t.appendChild(n("Subtotal",D(0))),t.appendChild(n("Retainage",D(0))),t.appendChild(n("Tax",D(0))),t.appendChild(n("Net Amount",D(0))),t.appendChild(n("Balance Due",D(0))),a.appendChild(t),a}const Ce={render(a){a.innerHTML="";const t=c("div","space-y-0"),n=c("div","flex items-center justify-between mb-6");n.appendChild(c("h1","text-2xl font-bold text-[var(--text)]","AR Invoice"));const r=c("a","text-sm text-[var(--text-muted)] hover:text-[var(--text)]","Back to Invoices");r.href="#/ar/invoices",n.appendChild(r),t.appendChild(n);const i=c("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),o=c("form","space-y-6");o.appendChild(c("h2","text-lg font-semibold text-[var(--text)] mb-2","Invoice Header"));const e=c("div","grid grid-cols-2 gap-4");e.appendChild(E("Customer",$("customerId","Select customer"))),e.appendChild(E("Job",$("jobId","Select job"))),e.appendChild(E("Invoice Number",$("invoiceNumber","Invoice number"))),e.appendChild(E("Billing Type",H("billingType",xe))),e.appendChild(E("Invoice Date",F("invoiceDate"))),e.appendChild(E("Due Date",F("dueDate"))),e.appendChild(E("Status",H("status",me))),e.appendChild(E("Retainage %",z("retainagePct","0"))),e.appendChild(E("Tax Amount",z("taxAmount","0.00"))),o.appendChild(e),o.appendChild(c("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Description")),o.appendChild(E("Description",be("description",3),2));const d=[];o.appendChild(he(d)),o.appendChild(ve());const p=c("div","flex items-center gap-3 mt-6"),l=c("button","px-6 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save Invoice");l.type="button",l.addEventListener("click",()=>{}),p.appendChild(l);const u=c("button","px-6 py-2 rounded-md text-sm font-medium bg-emerald-600 text-white hover:opacity-90","Send Invoice");u.type="button",u.addEventListener("click",()=>{}),p.appendChild(u);const m=c("button","px-6 py-2 rounded-md text-sm font-medium bg-red-600 text-white hover:opacity-90","Void");m.type="button",m.addEventListener("click",()=>{}),p.appendChild(m);const C=c("a","px-6 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] border border-[var(--border)]","Cancel");C.href="#/ar/invoices",p.appendChild(C),o.appendChild(p),i.appendChild(o),t.appendChild(i),a.appendChild(t)}},V=Object.freeze(Object.defineProperty({__proto__:null,default:Ce},Symbol.toStringTag,{value:"Module"})),N=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function b(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const fe=[{value:"",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"applied",label:"Applied"},{value:"voided",label:"Voided"}],ge=[{value:"",label:"All Methods"},{value:"check",label:"Check"},{value:"ach",label:"ACH"},{value:"wire",label:"Wire Transfer"},{value:"credit-card",label:"Credit Card"}],q={pending:"bg-amber-500/10 text-amber-400 border border-amber-500/20",applied:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",voided:"bg-red-500/10 text-red-400 border border-red-500/20"};function ye(a){const t=b("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=b("input",n);r.type="text",r.placeholder="Search payments...",t.appendChild(r);const i=b("select",n);for(const m of fe){const C=b("option","",m.label);C.value=m.value,i.appendChild(C)}t.appendChild(i);const o=b("select",n);for(const m of ge){const C=b("option","",m.label);C.value=m.value,o.appendChild(C)}t.appendChild(o);const e=b("span","text-sm text-[var(--text-muted)]","From:");t.appendChild(e);const d=b("input",n);d.type="date",t.appendChild(d);const p=b("span","text-sm text-[var(--text-muted)]","To:");t.appendChild(p);const l=b("input",n);l.type="date",t.appendChild(l);const u=()=>a(i.value,o.value,r.value,d.value,l.value);return i.addEventListener("change",u),o.addEventListener("change",u),r.addEventListener("input",u),d.addEventListener("change",u),l.addEventListener("change",u),t}function Se(){const a=b("div","grid grid-cols-4 gap-4 mb-4"),t=(n,r,i)=>{const o=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return o.appendChild(b("div","text-sm text-[var(--text-muted)] mb-1",n)),o.appendChild(b("div",`text-xl font-bold font-mono ${i?"text-[var(--accent)]":"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Total Received",N(0))),a.appendChild(t("Applied",N(0),!0)),a.appendChild(t("Unapplied Cash",N(0))),a.appendChild(t("Received This Month",N(0))),a}function _e(a){const t=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=b("table","w-full text-sm"),r=b("thead"),i=b("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Customer","Date","Method","Reference #","Amount","Applied","Unapplied","Status","Actions"]){const d=["Amount","Applied","Unapplied"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";i.appendChild(b("th",d,e))}r.appendChild(i),n.appendChild(r);const o=b("tbody");if(a.length===0){const e=b("tr"),d=b("td","py-8 px-3 text-center text-[var(--text-muted)]","No payments found. Record customer payments to get started.");d.setAttribute("colspan","9"),e.appendChild(d),o.appendChild(e)}for(const e of a){const d=b("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(b("td","py-2 px-3 text-[var(--text)]",e.customerName)),d.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",e.paymentDate)),d.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",e.method)),d.appendChild(b("td","py-2 px-3 font-mono text-[var(--text-muted)]",e.referenceNumber)),d.appendChild(b("td","py-2 px-3 text-right font-mono font-medium",N(e.amount))),d.appendChild(b("td","py-2 px-3 text-right font-mono text-emerald-400",N(e.appliedAmount))),d.appendChild(b("td","py-2 px-3 text-right font-mono text-amber-400",N(e.unappliedAmount)));const p=b("td","py-2 px-3"),l=b("span",`px-2 py-0.5 rounded-full text-xs font-medium ${q[e.status]??q.pending}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));p.appendChild(l),d.appendChild(p);const u=b("td","py-2 px-3"),m=b("button","text-[var(--accent)] hover:underline text-sm mr-2","Apply");m.type="button",u.appendChild(m);const C=b("button","text-red-400 hover:underline text-sm","Void");C.type="button",u.appendChild(C),d.appendChild(u),o.appendChild(d)}return n.appendChild(o),t.appendChild(n),t}const Ae={render(a){a.innerHTML="";const t=b("div","space-y-0"),n=b("div","flex items-center justify-between mb-4");n.appendChild(b("h1","text-2xl font-bold text-[var(--text)]","Payments"));const r=b("div","flex items-center gap-2"),i=b("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Receive Payment");i.type="button",i.addEventListener("click",()=>{}),r.appendChild(i);const o=b("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),n.appendChild(r),t.appendChild(n),t.appendChild(Se()),t.appendChild(ye((d,p,l,u,m)=>{}));const e=[];t.appendChild(_e(e)),a.appendChild(t)}},Te=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"})),S=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"}),we=a=>`${a.toFixed(1)}%`;function x(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const Pe=[{value:"",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"submitted",label:"Submitted"},{value:"approved",label:"Approved"},{value:"paid",label:"Paid"}],Y={draft:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",submitted:"bg-blue-500/10 text-blue-400 border border-blue-500/20",approved:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",paid:"bg-purple-500/10 text-purple-400 border border-purple-500/20"};function Le(a){const t=x("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=x("input",n);r.type="text",r.placeholder="Search by job...",t.appendChild(r);const i=x("select",n);for(const e of Pe){const d=x("option","",e.label);d.value=e.value,i.appendChild(d)}t.appendChild(i);const o=()=>a(i.value,r.value);return i.addEventListener("change",o),r.addEventListener("input",o),t}function Ee(){const a=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6 mb-4");a.appendChild(x("h2","text-lg font-semibold text-[var(--text)] mb-4","AIA G702 - Application and Certificate for Payment"));const t=x("div","grid grid-cols-3 gap-4 text-sm"),n=(r,i)=>{const o=x("div");return o.appendChild(x("div","text-[var(--text-muted)]",r)),o.appendChild(x("div","font-mono font-medium text-[var(--text)]",i)),o};return t.appendChild(n("1. Original Contract Sum",S(0))),t.appendChild(n("2. Net Change by Change Orders",S(0))),t.appendChild(n("3. Contract Sum To Date",S(0))),t.appendChild(n("4. Total Completed & Stored",S(0))),t.appendChild(n("5. Retainage",S(0))),t.appendChild(n("6. Total Earned Less Retainage",S(0))),t.appendChild(n("7. Less Previous Certificates",S(0))),t.appendChild(n("8. Current Payment Due",S(0))),t.appendChild(n("9. Balance To Finish",S(0))),a.appendChild(t),a}function Ie(a){const t=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=x("table","w-full text-sm"),r=x("thead"),i=x("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["App #","Job","Period To","Contract Sum","Change Orders","Prev. Complete","This Period","Materials","Total Complete","% Complete","Retainage","Status","Actions"]){const d=["Contract Sum","Change Orders","Prev. Complete","This Period","Materials","Total Complete","% Complete","Retainage"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";i.appendChild(x("th",d,e))}r.appendChild(i),n.appendChild(r);const o=x("tbody");if(a.length===0){const e=x("tr"),d=x("td","py-8 px-3 text-center text-[var(--text-muted)]","No AIA applications found. Create a new progress billing application to get started.");d.setAttribute("colspan","13"),e.appendChild(d),o.appendChild(e)}for(const e of a){const d=x("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(x("td","py-2 px-3 font-mono font-medium text-[var(--accent)]",`#${e.applicationNumber}`));const p=x("td","py-2 px-3");p.appendChild(x("div","font-mono text-[var(--text)]",e.jobNumber)),p.appendChild(x("div","text-xs text-[var(--text-muted)]",e.jobName)),d.appendChild(p),d.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",e.periodTo)),d.appendChild(x("td","py-2 px-3 text-right font-mono",S(e.contractSum))),d.appendChild(x("td","py-2 px-3 text-right font-mono",S(e.changeOrderTotal))),d.appendChild(x("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",S(e.completedPreviousPeriod))),d.appendChild(x("td","py-2 px-3 text-right font-mono",S(e.completedThisPeriod))),d.appendChild(x("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",S(e.materialStored))),d.appendChild(x("td","py-2 px-3 text-right font-mono font-medium",S(e.totalCompleted))),d.appendChild(x("td","py-2 px-3 text-right font-mono",we(e.percentComplete))),d.appendChild(x("td","py-2 px-3 text-right font-mono text-amber-400",S(e.retainageAmount)));const l=x("td","py-2 px-3"),u=x("span",`px-2 py-0.5 rounded-full text-xs font-medium ${Y[e.status]??Y.draft}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));l.appendChild(u),d.appendChild(l);const m=x("td","py-2 px-3"),C=x("button","text-[var(--accent)] hover:underline text-sm mr-2","Submit");C.type="button",m.appendChild(C);const _=x("button","text-emerald-400 hover:underline text-sm mr-2","Approve");_.type="button",m.appendChild(_);const I=x("button","text-[var(--text-muted)] hover:underline text-sm","PDF");I.type="button",m.appendChild(I),d.appendChild(m),o.appendChild(d)}return n.appendChild(o),t.appendChild(n),t}const De={render(a){a.innerHTML="";const t=x("div","space-y-0"),n=x("div","flex items-center justify-between mb-4");n.appendChild(x("h1","text-2xl font-bold text-[var(--text)]","AIA G702/G703 Progress Billing"));const r=x("div","flex items-center gap-2"),i=x("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","New Application");i.type="button",i.addEventListener("click",()=>{}),r.appendChild(i);const o=x("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export PDF");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),n.appendChild(r),t.appendChild(n),t.appendChild(Ee()),t.appendChild(Le((d,p)=>{}));const e=[];t.appendChild(Ie(e)),a.appendChild(t)}},Ne=Object.freeze(Object.defineProperty({__proto__:null,default:De},Symbol.toStringTag,{value:"Module"})),A=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function h(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const J=["Current","1-30","31-60","61-90","91-120","120+","Total"];function Re(a){const t=h("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=h("input",n);r.type="text",r.placeholder="Search customers...",t.appendChild(r);const i=h("span","text-sm text-[var(--text-muted)]","As of:");t.appendChild(i);const o=h("input",n);o.type="date",o.name="asOfDate",o.valueAsDate=new Date,t.appendChild(o);const e=h("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Refresh");e.type="button",t.appendChild(e);const d=()=>a(o.value,r.value);return r.addEventListener("input",d),o.addEventListener("change",d),e.addEventListener("click",d),t}function Be(){const a=h("div","grid grid-cols-7 gap-3 mb-4"),t=(n,r,i)=>{const o=h("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-3 text-center");return o.appendChild(h("div","text-xs text-[var(--text-muted)] mb-1",n)),o.appendChild(h("div",`text-lg font-bold font-mono ${i??"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Current",A(0),"text-emerald-400")),a.appendChild(t("1-30 Days",A(0),"text-blue-400")),a.appendChild(t("31-60 Days",A(0),"text-amber-400")),a.appendChild(t("61-90 Days",A(0),"text-orange-400")),a.appendChild(t("91-120 Days",A(0),"text-red-400")),a.appendChild(t("120+ Days",A(0),"text-red-500")),a.appendChild(t("Total",A(0),"text-[var(--accent)]")),a}function $e(a){const t=h("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=h("table","w-full text-sm"),r=h("thead"),i=h("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");i.appendChild(h("th","py-2 px-3 font-medium","Code")),i.appendChild(h("th","py-2 px-3 font-medium","Customer"));for(const e of J)i.appendChild(h("th","py-2 px-3 font-medium text-right",e));r.appendChild(i),n.appendChild(r);const o=h("tbody");if(a.length===0){const e=h("tr"),d=h("td","py-8 px-3 text-center text-[var(--text-muted)]","No aging data available. Enter AR invoices to generate the aging report.");d.setAttribute("colspan","9"),e.appendChild(d),o.appendChild(e)}for(const e of a){const d=h("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(h("td","py-2 px-3 font-mono text-[var(--text-muted)]",e.customerCode));const p=h("td","py-2 px-3"),l=h("a","text-[var(--accent)] hover:underline",e.customerName);l.href=`#/ar/customers/${e.customerId}`,p.appendChild(l),d.appendChild(p);const u=(m,C)=>m===0?"py-2 px-3 text-right font-mono text-[var(--text-muted)]":C?"py-2 px-3 text-right font-mono text-red-400":"py-2 px-3 text-right font-mono text-[var(--text)]";d.appendChild(h("td",u(e.current),A(e.current))),d.appendChild(h("td",u(e.days1to30),A(e.days1to30))),d.appendChild(h("td",u(e.days31to60),A(e.days31to60))),d.appendChild(h("td",u(e.days61to90,!0),A(e.days61to90))),d.appendChild(h("td",u(e.days91to120,!0),A(e.days91to120))),d.appendChild(h("td",u(e.days120plus,!0),A(e.days120plus))),d.appendChild(h("td","py-2 px-3 text-right font-mono font-medium text-[var(--text)]",A(e.total))),o.appendChild(d)}if(a.length>0){const e=h("tr","border-t-2 border-[var(--border)] bg-[var(--surface)] font-medium");e.appendChild(h("td","py-2 px-3","")),e.appendChild(h("td","py-2 px-3 text-[var(--text)]","Totals"));for(let d=0;d<J.length;d++)e.appendChild(h("td","py-2 px-3 text-right font-mono text-[var(--text)]",A(0)));o.appendChild(e)}return n.appendChild(o),t.appendChild(n),t}const Oe={render(a){a.innerHTML="";const t=h("div","space-y-0"),n=h("div","flex items-center justify-between mb-4");n.appendChild(h("h1","text-2xl font-bold text-[var(--text)]","Customer Aging Report"));const r=h("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");r.type="button",r.addEventListener("click",()=>{}),n.appendChild(r),t.appendChild(n),t.appendChild(Be()),t.appendChild(Re((o,e)=>{}));const i=[];t.appendChild($e(i)),a.appendChild(t)}},ke=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),w=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function s(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const Ue=[{value:"",label:"All Statuses"},{value:"held",label:"Held"},{value:"partial",label:"Partially Released"},{value:"released",label:"Released"}],Q={held:"bg-amber-500/10 text-amber-400 border border-amber-500/20",partial:"bg-purple-500/10 text-purple-400 border border-purple-500/20",released:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"},je={held:"Held",partial:"Partial",released:"Released"};function Me(a){const t=s("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=s("input",n);r.type="text",r.placeholder="Search customers or jobs...",t.appendChild(r);const i=s("select",n);for(const e of Ue){const d=s("option","",e.label);d.value=e.value,i.appendChild(d)}t.appendChild(i);const o=()=>a(i.value,r.value);return i.addEventListener("change",o),r.addEventListener("input",o),t}function Ge(){const a=s("div","grid grid-cols-4 gap-4 mb-4"),t=(n,r,i)=>{const o=s("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return o.appendChild(s("div","text-sm text-[var(--text-muted)] mb-1",n)),o.appendChild(s("div",`text-xl font-bold font-mono ${i??"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Total Retainage Held",w(0),"text-amber-400")),a.appendChild(t("Partially Released",w(0),"text-purple-400")),a.appendChild(t("Released YTD",w(0),"text-emerald-400")),a.appendChild(t("Net Retainage Receivable",w(0),"text-[var(--accent)]")),a}function Fe(a){const t=s("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=s("table","w-full text-sm"),r=s("thead"),i=s("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Customer","Job","Invoice","Date","Ret %","Original","Held","Released","Balance","Status","Actions"]){const d=["Ret %","Original","Held","Released","Balance"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";i.appendChild(s("th",d,e))}r.appendChild(i),n.appendChild(r);const o=s("tbody");if(a.length===0){const e=s("tr"),d=s("td","py-8 px-3 text-center text-[var(--text-muted)]","No retainage records found. Retainage is tracked automatically when invoices with retainage are created.");d.setAttribute("colspan","11"),e.appendChild(d),o.appendChild(e)}for(const e of a){const d=s("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),p=s("td","py-2 px-3"),l=s("a","text-[var(--accent)] hover:underline",e.customerName);l.href=`#/ar/customers/${e.id}`,p.appendChild(l),p.appendChild(s("div","text-xs text-[var(--text-muted)] font-mono",e.customerCode)),d.appendChild(p);const u=s("td","py-2 px-3");u.appendChild(s("div","font-mono text-[var(--text)]",e.jobNumber)),u.appendChild(s("div","text-xs text-[var(--text-muted)]",e.jobName)),d.appendChild(u),d.appendChild(s("td","py-2 px-3 font-mono text-[var(--text)]",e.invoiceNumber)),d.appendChild(s("td","py-2 px-3 text-[var(--text-muted)]",e.invoiceDate)),d.appendChild(s("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",`${e.retainagePct.toFixed(1)}%`)),d.appendChild(s("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",w(e.originalAmount))),d.appendChild(s("td","py-2 px-3 text-right font-mono text-amber-400",w(e.retainageHeld))),d.appendChild(s("td","py-2 px-3 text-right font-mono text-emerald-400",w(e.retainageReleased))),d.appendChild(s("td","py-2 px-3 text-right font-mono font-medium text-[var(--text)]",w(e.retainageBalance)));const m=s("td","py-2 px-3"),C=s("span",`px-2 py-0.5 rounded-full text-xs font-medium ${Q[e.status]??Q.held}`,je[e.status]??e.status);m.appendChild(C),d.appendChild(m);const _=s("td","py-2 px-3"),I=s("button","text-[var(--accent)] hover:underline text-sm mr-2","Release");I.type="button",I.addEventListener("click",()=>{}),_.appendChild(I);const k=s("button","text-[var(--text-muted)] hover:underline text-sm","View");k.type="button",_.appendChild(k),d.appendChild(_),o.appendChild(d)}if(a.length>0){const e=s("tr","border-t-2 border-[var(--border)] bg-[var(--surface)] font-medium");e.appendChild(s("td","py-2 px-3 text-[var(--text)]","Totals")),e.appendChild(s("td","py-2 px-3","")),e.appendChild(s("td","py-2 px-3","")),e.appendChild(s("td","py-2 px-3","")),e.appendChild(s("td","py-2 px-3","")),e.appendChild(s("td","py-2 px-3 text-right font-mono",w(0))),e.appendChild(s("td","py-2 px-3 text-right font-mono text-amber-400",w(0))),e.appendChild(s("td","py-2 px-3 text-right font-mono text-emerald-400",w(0))),e.appendChild(s("td","py-2 px-3 text-right font-mono font-bold text-[var(--text)]",w(0))),e.appendChild(s("td","py-2 px-3","")),e.appendChild(s("td","py-2 px-3","")),o.appendChild(e)}return n.appendChild(o),t.appendChild(n),t}const ze={render(a){a.innerHTML="";const t=s("div","space-y-0"),n=s("div","flex items-center justify-between mb-4");n.appendChild(s("h1","text-2xl font-bold text-[var(--text)]","Retainage Receivable"));const r=s("div","flex items-center gap-2"),i=s("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Batch Release");i.type="button",i.addEventListener("click",()=>{}),r.appendChild(i);const o=s("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),n.appendChild(r),t.appendChild(n),t.appendChild(Ge()),t.appendChild(Me((d,p)=>{}));const e=[];t.appendChild(Fe(e)),a.appendChild(t)}},He=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),O=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function f(a,t,n){const r=document.createElement(a);return t&&(r.className=t),n!==void 0&&(r.textContent=n),r}const Ve=[{value:"",label:"All Frequencies"},{value:"monthly",label:"Monthly"},{value:"milestone",label:"Milestone"},{value:"progress",label:"Progress"}],qe=[{value:"",label:"All Types"},{value:"progress",label:"Progress"},{value:"tm",label:"T&M"},{value:"unit_price",label:"Unit Price"},{value:"cost_plus",label:"Cost Plus"},{value:"lump_sum",label:"Lump Sum"}],W={monthly:"bg-blue-500/10 text-blue-400 border border-blue-500/20",milestone:"bg-purple-500/10 text-purple-400 border border-purple-500/20",progress:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"};function Ye(a){const t=f("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=f("input",n);r.type="text",r.placeholder="Search schedules...",t.appendChild(r);const i=f("select",n);for(const d of Ve){const p=f("option","",d.label);p.value=d.value,i.appendChild(p)}t.appendChild(i);const o=f("select",n);for(const d of qe){const p=f("option","",d.label);p.value=d.value,o.appendChild(p)}t.appendChild(o);const e=()=>a(i.value,o.value,r.value);return i.addEventListener("change",e),o.addEventListener("change",e),r.addEventListener("input",e),t}function Je(a){const t=f("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=f("table","w-full text-sm"),r=f("thead"),i=f("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Schedule Name","Job","Customer","Frequency","Type","Start","End","Total","Billed","Remaining","Milestones","Actions"]){const d=["Total","Billed","Remaining"].includes(e)?"py-2 px-3 font-medium text-right":e==="Milestones"?"py-2 px-3 font-medium text-center":"py-2 px-3 font-medium";i.appendChild(f("th",d,e))}r.appendChild(i),n.appendChild(r);const o=f("tbody");if(a.length===0){const e=f("tr"),d=f("td","py-8 px-3 text-center text-[var(--text-muted)]","No billing schedules found. Create a billing schedule to organize your invoicing.");d.setAttribute("colspan","12"),e.appendChild(d),o.appendChild(e)}for(const e of a){const d=f("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(f("td","py-2 px-3 font-medium text-[var(--text)]",e.name));const p=f("td","py-2 px-3");p.appendChild(f("div","font-mono text-[var(--text)]",e.jobNumber)),p.appendChild(f("div","text-xs text-[var(--text-muted)]",e.jobName)),d.appendChild(p),d.appendChild(f("td","py-2 px-3 text-[var(--text)]",e.customerName));const l=f("td","py-2 px-3"),u=f("span",`px-2 py-0.5 rounded-full text-xs font-medium ${W[e.frequency]??W.monthly}`,e.frequency.charAt(0).toUpperCase()+e.frequency.slice(1));l.appendChild(u),d.appendChild(l),d.appendChild(f("td","py-2 px-3 text-[var(--text-muted)]",e.billingType)),d.appendChild(f("td","py-2 px-3 text-[var(--text-muted)]",e.startDate)),d.appendChild(f("td","py-2 px-3 text-[var(--text-muted)]",e.endDate)),d.appendChild(f("td","py-2 px-3 text-right font-mono",O(e.totalAmount))),d.appendChild(f("td","py-2 px-3 text-right font-mono text-emerald-400",O(e.billedAmount))),d.appendChild(f("td","py-2 px-3 text-right font-mono",O(e.remainingAmount))),d.appendChild(f("td","py-2 px-3 text-center",String(e.milestoneCount)));const m=f("td","py-2 px-3"),C=f("button","text-[var(--accent)] hover:underline text-sm mr-2","Edit");C.type="button",m.appendChild(C);const _=f("button","text-[var(--text-muted)] hover:underline text-sm","Milestones");_.type="button",m.appendChild(_),d.appendChild(m),o.appendChild(d)}return n.appendChild(o),t.appendChild(n),t}const Qe={render(a){a.innerHTML="";const t=f("div","space-y-0"),n=f("div","flex items-center justify-between mb-4");n.appendChild(f("h1","text-2xl font-bold text-[var(--text)]","Billing Schedules"));const r=f("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","New Schedule");r.type="button",r.addEventListener("click",()=>{}),n.appendChild(r),t.appendChild(n),t.appendChild(Ye((o,e,d)=>{}));const i=[];t.appendChild(Je(i)),a.appendChild(t)}},We=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"}));export{Ke as a};
