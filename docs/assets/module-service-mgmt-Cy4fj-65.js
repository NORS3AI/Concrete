import{_ as T}from"./module-gl-DpMMjp0h.js";const dt={id:"concrete.serviceMgmt",name:"Service Management",description:"Service agreements, work orders, dispatch, technician tracking, preventive maintenance, customer equipment, billing, and profitability analysis",version:"1.0.0",phase:20,dependencies:["concrete.ar"],collections:["service/serviceAgreement","service/workOrder","service/workOrderLine","service/serviceCall","service/customerEquipment","service/preventiveMaintenance","service/technicianTimeEntry"],routes:[{path:"/service/agreements",component:()=>T(()=>Promise.resolve().then(()=>re),void 0,import.meta.url),title:"Service Agreements",icon:"file-text"},{path:"/service/agreements/new",component:()=>T(()=>Promise.resolve().then(()=>q),void 0,import.meta.url),title:"New Agreement",icon:"plus"},{path:"/service/agreements/:id",component:()=>T(()=>Promise.resolve().then(()=>q),void 0,import.meta.url),title:"Edit Agreement",icon:"edit"},{path:"/service/work-orders",component:()=>T(()=>Promise.resolve().then(()=>ve),void 0,import.meta.url),title:"Work Orders",icon:"clipboard"},{path:"/service/work-orders/new",component:()=>T(()=>Promise.resolve().then(()=>U),void 0,import.meta.url),title:"New Work Order",icon:"plus"},{path:"/service/work-orders/:id",component:()=>T(()=>Promise.resolve().then(()=>U),void 0,import.meta.url),title:"Edit Work Order",icon:"edit"},{path:"/service/dispatch",component:()=>T(()=>Promise.resolve().then(()=>Oe),void 0,import.meta.url),title:"Dispatch Board",icon:"send"},{path:"/service/calls",component:()=>T(()=>Promise.resolve().then(()=>Ne),void 0,import.meta.url),title:"Service Calls",icon:"phone"},{path:"/service/equipment",component:()=>T(()=>Promise.resolve().then(()=>Me),void 0,import.meta.url),title:"Customer Equipment",icon:"tool"},{path:"/service/pm-schedules",component:()=>T(()=>Promise.resolve().then(()=>He),void 0,import.meta.url),title:"PM Schedules",icon:"calendar"},{path:"/service/profitability",component:()=>T(()=>Promise.resolve().then(()=>Qe),void 0,import.meta.url),title:"Profitability",icon:"trending-up"},{path:"/service/history",component:()=>T(()=>Promise.resolve().then(()=>tt),void 0,import.meta.url),title:"Service History",icon:"clock"}],navItems:[{id:"service",label:"Service",icon:"tool",path:"/service/agreements",order:200},{id:"service-agreements",label:"Agreements",icon:"file-text",path:"/service/agreements",order:1,parent:"service"},{id:"service-work-orders",label:"Work Orders",icon:"clipboard",path:"/service/work-orders",order:2,parent:"service"},{id:"service-dispatch",label:"Dispatch",icon:"send",path:"/service/dispatch",order:3,parent:"service"},{id:"service-calls",label:"Calls",icon:"phone",path:"/service/calls",order:4,parent:"service"},{id:"service-equipment",label:"Equipment",icon:"tool",path:"/service/equipment",order:5,parent:"service"},{id:"service-pm-schedules",label:"PM Schedules",icon:"calendar",path:"/service/pm-schedules",order:6,parent:"service"},{id:"service-profitability",label:"Profitability",icon:"trending-up",path:"/service/profitability",order:7,parent:"service"}],dashboardWidgets:[],settings:[],permissions:[{resource:"service.agreement",actions:["create","read","update","delete","export"],description:"Service agreement management"},{resource:"service.workOrder",actions:["create","read","update","assign","complete","cancel","export"],description:"Work order management"},{resource:"service.dispatch",actions:["read","assign"],description:"Dispatch board"},{resource:"service.call",actions:["create","read","update","dispatch","resolve"],description:"Service call management"},{resource:"service.equipment",actions:["create","read","update","retire","export"],description:"Customer equipment registry"},{resource:"service.pm",actions:["create","read","update","complete","generate"],description:"Preventive maintenance scheduling"},{resource:"service.time",actions:["create","read","update","export"],description:"Technician time tracking"},{resource:"service.billing",actions:["read","bill","export"],description:"Service billing"},{resource:"service.report",actions:["read","export"],description:"Service reports (profitability, history)"}],workflows:[],importTypes:[{id:"service-work-orders",label:"Import Work Orders",collection:"service/workOrder",fields:[{name:"number",type:"string",required:!0,label:"Work Order Number"},{name:"customerId",type:"string",required:!0,label:"Customer ID"},{name:"type",type:"string",required:!0,label:"Type"},{name:"priority",type:"string",label:"Priority"},{name:"description",type:"string",label:"Description"},{name:"scheduledDate",type:"string",label:"Scheduled Date"},{name:"assignedTo",type:"string",label:"Assigned To"}],autoDetectHeaders:!0}],exportTypes:[{id:"service-work-orders",label:"Export Work Orders",collection:"service/workOrder",defaultFields:["number","customerId","type","status","priority","scheduledDate","assignedTo","totalAmount","billingStatus"]},{id:"service-agreements",label:"Export Service Agreements",collection:"service/serviceAgreement",defaultFields:["name","customerId","type","status","startDate","endDate","recurringAmount"]},{id:"service-profitability",label:"Export Profitability Report",collection:"service/workOrder",defaultFields:["number","customerId","laborTotal","materialTotal","totalAmount"]}],hooks:[]},Z=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function b(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const J=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"pending",label:"Pending"},{value:"expired",label:"Expired"},{value:"cancelled",label:"Cancelled"}],K=[{value:"",label:"All Types"},{value:"full_service",label:"Full Service"},{value:"preventive",label:"Preventive"},{value:"on_call",label:"On Call"},{value:"warranty",label:"Warranty"}],B={active:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",pending:"bg-amber-500/10 text-amber-400 border border-amber-500/20",expired:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",cancelled:"bg-red-500/10 text-red-400 border border-red-500/20"};function X(a){const e=b("div","flex flex-wrap items-center gap-3 mb-4"),r="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",t=b("input",r);t.type="text",t.placeholder="Search agreements...",e.appendChild(t);const o=b("select",r);for(const n of J){const l=b("option","",n.label);l.value=n.value,o.appendChild(l)}e.appendChild(o);const i=b("select",r);for(const n of K){const l=b("option","",n.label);l.value=n.value,i.appendChild(l)}e.appendChild(i);const d=()=>a(o.value,i.value,t.value);return o.addEventListener("change",d),i.addEventListener("change",d),t.addEventListener("input",d),e}function ee(a){const e=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),r=b("table","w-full text-sm"),t=b("thead"),o=b("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["Name","Customer","Type","Status","Start","End","Amount","Coverage","Actions"]){const n=d==="Amount"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";o.appendChild(b("th",n,d))}t.appendChild(o),r.appendChild(t);const i=b("tbody");if(a.length===0){const d=b("tr"),n=b("td","py-8 px-3 text-center text-[var(--text-muted)]","No service agreements found. Create your first agreement to get started.");n.setAttribute("colspan","9"),d.appendChild(n),i.appendChild(d)}for(const d of a){const n=b("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),l=b("td","py-2 px-3"),p=b("a","text-[var(--accent)] hover:underline font-medium",d.name);p.href=`#/service/agreements/${d.id}`,l.appendChild(p),n.appendChild(l),n.appendChild(b("td","py-2 px-3 text-[var(--text)]",d.customerName)),n.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",d.type));const u=b("td","py-2 px-3"),f=b("span",`px-2 py-0.5 rounded-full text-xs font-medium ${B[d.status]??B.active}`,d.status.charAt(0).toUpperCase()+d.status.slice(1));u.appendChild(f),n.appendChild(u),n.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",d.startDate)),n.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",d.endDate)),n.appendChild(b("td","py-2 px-3 text-right font-mono",Z(d.recurringAmount))),n.appendChild(b("td","py-2 px-3 text-[var(--text-muted)]",d.coverage));const w=b("td","py-2 px-3"),E=b("a","text-[var(--accent)] hover:underline text-sm","Edit");E.href=`#/service/agreements/${d.id}`,w.appendChild(E),n.appendChild(w),i.appendChild(n)}return r.appendChild(i),e.appendChild(r),e}const te={render(a){a.innerHTML="";const e=b("div","space-y-0"),r=b("div","flex items-center justify-between mb-4");r.appendChild(b("h1","text-2xl font-bold text-[var(--text)]","Service Agreements"));const t=b("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");t.href="#/service/agreements/new",t.textContent="New Agreement",r.appendChild(t),e.appendChild(r),e.appendChild(X((i,d,n)=>{}));const o=[];e.appendChild(ee(o)),a.appendChild(e)}},re=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));function g(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const de=[{value:"full_service",label:"Full Service"},{value:"preventive",label:"Preventive Only"},{value:"on_call",label:"On Call"},{value:"warranty",label:"Warranty"}],ne=[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"expired",label:"Expired"},{value:"cancelled",label:"Cancelled"}],ae=[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"}];function _(a,e,r){const t=g("div",r===2?"col-span-2":"");return t.appendChild(g("label","block text-sm font-medium text-[var(--text-muted)] mb-1",a)),t.appendChild(e),t}function k(a,e){const r=g("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return r.type="text",r.name=a,e&&(r.placeholder=e),r}function $(a){const e=g("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return e.type="date",e.name=a,e}function oe(a,e){const r=g("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return r.type="number",r.name=a,r.step="0.01",r.placeholder=e,r}function N(a,e){const r=g("select","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");r.name=a;for(const t of e){const o=g("option","",t.label);o.value=t.value,r.appendChild(o)}return r}function D(a,e){const r=g("textarea","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return r.name=a,r.rows=e,r}const ie={render(a){a.innerHTML="";const e=g("div","space-y-0"),r=g("div","flex items-center justify-between mb-6");r.appendChild(g("h1","text-2xl font-bold text-[var(--text)]","Service Agreement"));const t=g("a","text-sm text-[var(--text-muted)] hover:text-[var(--text)]","Back to Agreements");t.href="#/service/agreements",r.appendChild(t),e.appendChild(r);const o=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),i=g("form","space-y-6");i.appendChild(g("h2","text-lg font-semibold text-[var(--text)] mb-2","Agreement Details"));const d=g("div","grid grid-cols-2 gap-4");d.appendChild(_("Agreement Name",k("name","Enter agreement name"))),d.appendChild(_("Customer",k("customerId","Select customer"))),d.appendChild(_("Type",N("type",de))),d.appendChild(_("Status",N("status",ne))),d.appendChild(_("Start Date",$("startDate"))),d.appendChild(_("End Date",$("endDate"))),d.appendChild(_("Renewal Date",$("renewalDate"))),d.appendChild(_("Response Time SLA",k("responseTimeSla","e.g., 4 hours"))),i.appendChild(d),i.appendChild(g("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Billing"));const n=g("div","grid grid-cols-2 gap-4");n.appendChild(_("Recurring Amount",oe("recurringAmount","0.00"))),n.appendChild(_("Billing Frequency",N("billingFrequency",ae))),i.appendChild(n),i.appendChild(g("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Coverage & Terms")),i.appendChild(_("Covered Equipment",D("coveredEquipment",3),2)),i.appendChild(_("Terms",D("terms",3),2)),i.appendChild(_("Description",D("description",3),2));const l=g("div","flex items-center gap-3 mt-6"),p=g("button","px-6 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save Agreement");p.type="button",p.addEventListener("click",()=>{}),l.appendChild(p);const u=g("button","px-6 py-2 rounded-md text-sm font-medium bg-emerald-600 text-white hover:opacity-90","Renew");u.type="button",u.addEventListener("click",()=>{}),l.appendChild(u);const f=g("a","px-6 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] border border-[var(--border)]","Cancel");f.href="#/service/agreements",l.appendChild(f),i.appendChild(l),o.appendChild(i),e.appendChild(o),a.appendChild(e)}},q=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"})),le=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function c(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const pe=[{value:"",label:"All Statuses"},{value:"open",label:"Open"},{value:"assigned",label:"Assigned"},{value:"in_progress",label:"In Progress"},{value:"on_hold",label:"On Hold"},{value:"completed",label:"Completed"},{value:"invoiced",label:"Invoiced"},{value:"cancelled",label:"Cancelled"}],se=[{value:"",label:"All Types"},{value:"scheduled",label:"Scheduled"},{value:"on_demand",label:"On Demand"},{value:"emergency",label:"Emergency"},{value:"callback",label:"Callback"}],ce=[{value:"",label:"All Priorities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"emergency",label:"Emergency"}],M={open:"bg-blue-500/10 text-blue-400 border border-blue-500/20",assigned:"bg-purple-500/10 text-purple-400 border border-purple-500/20",in_progress:"bg-amber-500/10 text-amber-400 border border-amber-500/20",on_hold:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",completed:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",invoiced:"bg-teal-500/10 text-teal-400 border border-teal-500/20",cancelled:"bg-red-500/10 text-red-400 border border-red-500/20"},j={low:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",medium:"bg-blue-500/10 text-blue-400 border border-blue-500/20",high:"bg-amber-500/10 text-amber-400 border border-amber-500/20",emergency:"bg-red-500/10 text-red-400 border border-red-500/20"};function ue(a){const e=c("div","flex flex-wrap items-center gap-3 mb-4"),r="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",t=c("input",r);t.type="text",t.placeholder="Search work orders...",e.appendChild(t);const o=c("select",r);for(const l of pe){const p=c("option","",l.label);p.value=l.value,o.appendChild(p)}e.appendChild(o);const i=c("select",r);for(const l of se){const p=c("option","",l.label);p.value=l.value,i.appendChild(p)}e.appendChild(i);const d=c("select",r);for(const l of ce){const p=c("option","",l.label);p.value=l.value,d.appendChild(p)}e.appendChild(d);const n=()=>a(o.value,i.value,d.value,t.value);return o.addEventListener("change",n),i.addEventListener("change",n),d.addEventListener("change",n),t.addEventListener("input",n),e}function me(a){const e=c("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),r=c("table","w-full text-sm"),t=c("thead"),o=c("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["WO #","Type","Priority","Status","Customer","Assigned To","Scheduled","Amount","Actions"]){const n=d==="Amount"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";o.appendChild(c("th",n,d))}t.appendChild(o),r.appendChild(t);const i=c("tbody");if(a.length===0){const d=c("tr"),n=c("td","py-8 px-3 text-center text-[var(--text-muted)]","No work orders found. Create a new work order to get started.");n.setAttribute("colspan","9"),d.appendChild(n),i.appendChild(d)}for(const d of a){const n=c("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),l=c("td","py-2 px-3"),p=c("a","text-[var(--accent)] hover:underline font-mono",d.number);p.href=`#/service/work-orders/${d.id}`,l.appendChild(p),n.appendChild(l),n.appendChild(c("td","py-2 px-3 text-[var(--text-muted)]",d.type));const u=c("td","py-2 px-3"),f=c("span",`px-2 py-0.5 rounded-full text-xs font-medium ${j[d.priority]??j.medium}`,d.priority.charAt(0).toUpperCase()+d.priority.slice(1));u.appendChild(f),n.appendChild(u);const w=c("td","py-2 px-3"),E=c("span",`px-2 py-0.5 rounded-full text-xs font-medium ${M[d.status]??M.open}`,d.status.replace("_"," "));w.appendChild(E),n.appendChild(w),n.appendChild(c("td","py-2 px-3 text-[var(--text)]",d.customerName)),n.appendChild(c("td","py-2 px-3 text-[var(--text-muted)]",d.assignedTo)),n.appendChild(c("td","py-2 px-3 text-[var(--text-muted)]",d.scheduledDate)),n.appendChild(c("td","py-2 px-3 text-right font-mono",le(d.totalAmount)));const P=c("td","py-2 px-3"),R=c("a","text-[var(--accent)] hover:underline text-sm","Edit");R.href=`#/service/work-orders/${d.id}`,P.appendChild(R),n.appendChild(P),i.appendChild(n)}return r.appendChild(i),e.appendChild(r),e}const be={render(a){a.innerHTML="";const e=c("div","space-y-0"),r=c("div","flex items-center justify-between mb-4");r.appendChild(c("h1","text-2xl font-bold text-[var(--text)]","Work Orders"));const t=c("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");t.href="#/service/work-orders/new",t.textContent="New Work Order",r.appendChild(t),e.appendChild(r),e.appendChild(ue((i,d,n,l)=>{}));const o=[];e.appendChild(me(o)),a.appendChild(e)}},ve=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),I=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function s(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const xe=[{value:"scheduled",label:"Scheduled"},{value:"on_demand",label:"On Demand"},{value:"emergency",label:"Emergency"},{value:"callback",label:"Callback"}],he=[{value:"open",label:"Open"},{value:"assigned",label:"Assigned"},{value:"in_progress",label:"In Progress"},{value:"on_hold",label:"On Hold"},{value:"completed",label:"Completed"},{value:"invoiced",label:"Invoiced"},{value:"cancelled",label:"Cancelled"}],fe=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"emergency",label:"Emergency"}],Ce=[{value:"tm",label:"Time & Material"},{value:"flat_rate",label:"Flat Rate"}];function S(a,e,r){const t=s("div",r===2?"col-span-2":"");return t.appendChild(s("label","block text-sm font-medium text-[var(--text-muted)] mb-1",a)),t.appendChild(e),t}function O(a,e){const r=s("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return r.type="text",r.name=a,e&&(r.placeholder=e),r}function ge(a){const e=s("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return e.type="date",e.name=a,e}function ye(a,e){const r=s("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return r.type="number",r.name=a,r.step="0.01",r.placeholder=e,r}function L(a,e){const r=s("select","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");r.name=a;for(const t of e){const o=s("option","",t.label);o.value=t.value,r.appendChild(o)}return r}function z(a,e){const r=s("textarea","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return r.name=a,r.rows=e,r}function we(a){const e=s("div","space-y-3");e.appendChild(s("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Line Items"));const r=s("div","bg-[var(--surface)] border border-[var(--border)] rounded-lg overflow-hidden"),t=s("table","w-full text-sm"),o=s("thead"),i=s("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const l of["Type","Description","Part #","Qty","Unit Price","Amount","Actions"]){const p=["Qty","Unit Price","Amount"].includes(l)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";i.appendChild(s("th",p,l))}o.appendChild(i),t.appendChild(o);const d=s("tbody");if(a.length===0){const l=s("tr"),p=s("td","py-6 px-3 text-center text-[var(--text-muted)]",'No line items. Click "Add Line" to add labor, materials, or other charges.');p.setAttribute("colspan","7"),l.appendChild(p),d.appendChild(l)}for(const l of a){const p=s("tr","border-b border-[var(--border)]");p.appendChild(s("td","py-2 px-3",l.lineType)),p.appendChild(s("td","py-2 px-3",l.description)),p.appendChild(s("td","py-2 px-3 font-mono",l.partNumber)),p.appendChild(s("td","py-2 px-3 text-right",String(l.quantity))),p.appendChild(s("td","py-2 px-3 text-right font-mono",I(l.unitPrice))),p.appendChild(s("td","py-2 px-3 text-right font-mono font-medium",I(l.amount)));const u=s("td","py-2 px-3"),f=s("button","text-red-400 hover:text-red-300 text-sm","Remove");f.type="button",u.appendChild(f),p.appendChild(u),d.appendChild(p)}t.appendChild(d),r.appendChild(t),e.appendChild(r);const n=s("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)] hover:border-[var(--accent)]","Add Line");return n.type="button",n.addEventListener("click",()=>{}),e.appendChild(n),e}function Se(){const a=s("div","bg-[var(--surface)] border border-[var(--border)] rounded-lg p-4 mt-4"),e=s("div","grid grid-cols-3 gap-4 text-sm"),r=(t,o)=>{const i=s("div","text-right");return i.appendChild(s("div","text-[var(--text-muted)]",t)),i.appendChild(s("div","font-mono font-medium text-[var(--text)]",o)),i};return e.appendChild(r("Labor Total",I(0))),e.appendChild(r("Material Total",I(0))),e.appendChild(r("Grand Total",I(0))),a.appendChild(e),a}const _e={render(a){a.innerHTML="";const e=s("div","space-y-0"),r=s("div","flex items-center justify-between mb-6");r.appendChild(s("h1","text-2xl font-bold text-[var(--text)]","Work Order"));const t=s("a","text-sm text-[var(--text-muted)] hover:text-[var(--text)]","Back to Work Orders");t.href="#/service/work-orders",r.appendChild(t),e.appendChild(r);const o=s("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),i=s("form","space-y-6");i.appendChild(s("h2","text-lg font-semibold text-[var(--text)] mb-2","Work Order Details"));const d=s("div","grid grid-cols-2 gap-4");d.appendChild(S("WO Number",O("number","Auto-generated"))),d.appendChild(S("Customer",O("customerId","Select customer"))),d.appendChild(S("Type",L("type",xe))),d.appendChild(S("Status",L("status",he))),d.appendChild(S("Priority",L("priority",fe))),d.appendChild(S("Pricing Type",L("pricingType",Ce))),d.appendChild(S("Scheduled Date",ge("scheduledDate"))),d.appendChild(S("Time Slot",O("scheduledTimeSlot","e.g., 8:00 AM - 12:00 PM"))),d.appendChild(S("Assigned To",O("assignedTo","Select technician"))),d.appendChild(S("Equipment",O("customerEquipmentId","Select equipment"))),d.appendChild(S("Flat Rate Amount",ye("flatRateAmount","0.00"))),d.appendChild(S("Agreement",O("agreementId","Select agreement"))),i.appendChild(d),i.appendChild(s("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Problem & Resolution")),i.appendChild(S("Problem Description",z("problemDescription",3),2)),i.appendChild(S("Resolution",z("resolution",3),2));const n=[];i.appendChild(we(n)),i.appendChild(Se());const l=s("div","flex items-center gap-3 mt-6"),p=s("button","px-6 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save Work Order");p.type="button",p.addEventListener("click",()=>{}),l.appendChild(p);const u=s("button","px-6 py-2 rounded-md text-sm font-medium bg-emerald-600 text-white hover:opacity-90","Complete");u.type="button",u.addEventListener("click",()=>{}),l.appendChild(u);const f=s("a","px-6 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] border border-[var(--border)]","Cancel");f.href="#/service/work-orders",l.appendChild(f),i.appendChild(l),o.appendChild(i),e.appendChild(o),a.appendChild(e)}},U=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));function h(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const W={low:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",medium:"bg-blue-500/10 text-blue-400 border border-blue-500/20",high:"bg-amber-500/10 text-amber-400 border border-amber-500/20",emergency:"bg-red-500/10 text-red-400 border border-red-500/20"};function Te(a){const e=h("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");if(e.appendChild(h("h2","text-lg font-semibold text-[var(--text)] mb-3","Unassigned Work Orders")),a.length===0)return e.appendChild(h("p","text-[var(--text-muted)] text-sm","No unassigned work orders.")),e;const r=h("div","space-y-2");for(const t of a){const o=h("div","bg-[var(--surface)] border border-[var(--border)] rounded-md p-3 cursor-grab hover:border-[var(--accent)] transition-colors");o.setAttribute("draggable","true"),o.dataset.woId=t.id;const i=h("div","flex items-center justify-between mb-1");i.appendChild(h("span","font-mono text-sm text-[var(--accent)]",t.number));const d=h("span",`px-2 py-0.5 rounded-full text-xs font-medium ${W[t.priority]??W.medium}`,t.priority);i.appendChild(d),o.appendChild(i),o.appendChild(h("div","text-sm text-[var(--text)]",t.customerName)),o.appendChild(h("div","text-xs text-[var(--text-muted)] mt-1",`${t.type} - ${t.scheduledDate}`)),t.description&&o.appendChild(h("div","text-xs text-[var(--text-muted)] mt-1 truncate",t.description)),r.appendChild(o)}return e.appendChild(r),e}function Ae(a){const e=h("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");if(e.appendChild(h("h2","text-lg font-semibold text-[var(--text)] mb-3","Technicians")),a.length===0)return e.appendChild(h("p","text-[var(--text-muted)] text-sm","No technicians configured.")),e;const r=h("div","space-y-3");for(const t of a){const o=h("div","bg-[var(--surface)] border border-[var(--border)] rounded-md p-3 min-h-[80px]");o.dataset.techId=t.id;const i=h("div","flex items-center justify-between mb-2");i.appendChild(h("span","text-sm font-medium text-[var(--text)]",t.name));const d=h("span","px-2 py-0.5 rounded-full text-xs font-medium bg-[var(--accent)]/10 text-[var(--accent)]",`${t.assignedCount} assigned`);i.appendChild(d),o.appendChild(i),o.appendChild(h("div","text-xs text-[var(--text-muted)]",`Status: ${t.status}`));const n=h("div","mt-2 border-2 border-dashed border-[var(--border)] rounded p-2 text-center text-xs text-[var(--text-muted)]","Drop work order here");o.appendChild(n),r.appendChild(o)}return e.appendChild(r),e}const Ee={render(a){a.innerHTML="";const e=h("div","space-y-0"),r=h("div","flex items-center justify-between mb-4");r.appendChild(h("h1","text-2xl font-bold text-[var(--text)]","Dispatch Board"));const t=h("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Refresh");t.type="button",t.addEventListener("click",()=>{}),r.appendChild(t),e.appendChild(r);const o=h("div","grid grid-cols-4 gap-4 mb-4"),i=(p,u,f)=>{const w=h("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return w.appendChild(h("div","text-sm text-[var(--text-muted)] mb-1",p)),w.appendChild(h("div",`text-xl font-bold ${f?"text-[var(--accent)]":"text-[var(--text)]"}`,u)),w};o.appendChild(i("Unassigned","0",!0)),o.appendChild(i("In Progress","0")),o.appendChild(i("Emergency","0")),o.appendChild(i("Completed Today","0")),e.appendChild(o);const d=h("div","grid grid-cols-2 gap-4"),n=[];d.appendChild(Te(n));const l=[];d.appendChild(Ae(l)),e.appendChild(d),a.appendChild(e)}},Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));function m(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const Pe=[{value:"",label:"All Statuses"},{value:"new",label:"New"},{value:"dispatched",label:"Dispatched"},{value:"resolved",label:"Resolved"}],Ie=[{value:"",label:"All Types"},{value:"request",label:"Request"},{value:"complaint",label:"Complaint"},{value:"inquiry",label:"Inquiry"},{value:"emergency",label:"Emergency"}],F={new:"bg-blue-500/10 text-blue-400 border border-blue-500/20",dispatched:"bg-amber-500/10 text-amber-400 border border-amber-500/20",resolved:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"},H={low:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",medium:"bg-blue-500/10 text-blue-400 border border-blue-500/20",high:"bg-amber-500/10 text-amber-400 border border-amber-500/20",emergency:"bg-red-500/10 text-red-400 border border-red-500/20"};function Le(a){const e=m("div","flex flex-wrap items-center gap-3 mb-4"),r="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",t=m("input",r);t.type="text",t.placeholder="Search calls...",e.appendChild(t);const o=m("select",r);for(const n of Pe){const l=m("option","",n.label);l.value=n.value,o.appendChild(l)}e.appendChild(o);const i=m("select",r);for(const n of Ie){const l=m("option","",n.label);l.value=n.value,i.appendChild(l)}e.appendChild(i);const d=()=>a(o.value,i.value,t.value);return o.addEventListener("change",d),i.addEventListener("change",d),t.addEventListener("input",d),e}function ke(a){const e=m("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),r=m("table","w-full text-sm"),t=m("thead"),o=m("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["Date","Caller","Phone","Type","Priority","Description","Status","Assigned","WO #","Actions"])o.appendChild(m("th","py-2 px-3 font-medium",d));t.appendChild(o),r.appendChild(t);const i=m("tbody");if(a.length===0){const d=m("tr"),n=m("td","py-8 px-3 text-center text-[var(--text-muted)]","No service calls found. Log a new call to get started.");n.setAttribute("colspan","10"),d.appendChild(n),i.appendChild(d)}for(const d of a){const n=m("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");n.appendChild(m("td","py-2 px-3 text-[var(--text-muted)]",d.callDate)),n.appendChild(m("td","py-2 px-3 text-[var(--text)]",d.callerName)),n.appendChild(m("td","py-2 px-3 text-[var(--text-muted)]",d.callerPhone)),n.appendChild(m("td","py-2 px-3 text-[var(--text-muted)]",d.callType));const l=m("td","py-2 px-3"),p=m("span",`px-2 py-0.5 rounded-full text-xs font-medium ${H[d.priority]??H.medium}`,d.priority);l.appendChild(p),n.appendChild(l),n.appendChild(m("td","py-2 px-3 text-[var(--text-muted)] max-w-[200px] truncate",d.description));const u=m("td","py-2 px-3"),f=m("span",`px-2 py-0.5 rounded-full text-xs font-medium ${F[d.status]??F.new}`,d.status.charAt(0).toUpperCase()+d.status.slice(1));u.appendChild(f),n.appendChild(u),n.appendChild(m("td","py-2 px-3 text-[var(--text-muted)]",d.assignedTo)),n.appendChild(m("td","py-2 px-3 font-mono text-[var(--accent)]",d.workOrderNumber));const w=m("td","py-2 px-3"),E=m("button","text-[var(--accent)] hover:underline text-sm mr-2","Dispatch");E.type="button",w.appendChild(E);const P=m("button","text-emerald-400 hover:underline text-sm","Resolve");P.type="button",w.appendChild(P),n.appendChild(w),i.appendChild(n)}return r.appendChild(i),e.appendChild(r),e}const $e={render(a){a.innerHTML="";const e=m("div","space-y-0"),r=m("div","flex items-center justify-between mb-4");r.appendChild(m("h1","text-2xl font-bold text-[var(--text)]","Service Calls"));const t=m("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Log New Call");t.type="button",t.addEventListener("click",()=>{}),r.appendChild(t),e.appendChild(r),e.appendChild(Le((i,d,n)=>{}));const o=[];e.appendChild(ke(o)),a.appendChild(e)}},Ne=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"}));function x(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const De=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"retired",label:"Retired"}],G={active:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",inactive:"bg-amber-500/10 text-amber-400 border border-amber-500/20",retired:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"};function Re(a){const e=x("div","flex flex-wrap items-center gap-3 mb-4"),r="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",t=x("input",r);t.type="text",t.placeholder="Search equipment...",e.appendChild(t);const o=x("select",r);for(const d of De){const n=x("option","",d.label);n.value=d.value,o.appendChild(n)}e.appendChild(o);const i=()=>a(o.value,t.value);return o.addEventListener("change",i),t.addEventListener("input",i),e}function Be(a){const e=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),r=x("table","w-full text-sm"),t=x("thead"),o=x("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["Name","Customer","Manufacturer","Model","Serial #","Warranty End","Next Service","Location","Status","Actions"])o.appendChild(x("th","py-2 px-3 font-medium",d));t.appendChild(o),r.appendChild(t);const i=x("tbody");if(a.length===0){const d=x("tr"),n=x("td","py-8 px-3 text-center text-[var(--text-muted)]","No equipment registered. Register customer equipment to get started.");n.setAttribute("colspan","10"),d.appendChild(n),i.appendChild(d)}for(const d of a){const n=x("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");n.appendChild(x("td","py-2 px-3 font-medium text-[var(--text)]",d.name)),n.appendChild(x("td","py-2 px-3 text-[var(--text)]",d.customerName)),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",d.manufacturer)),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",d.model)),n.appendChild(x("td","py-2 px-3 font-mono text-[var(--text-muted)]",d.serialNumber)),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",d.warrantyEndDate)),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",d.nextServiceDate)),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",d.location));const l=x("td","py-2 px-3"),p=x("span",`px-2 py-0.5 rounded-full text-xs font-medium ${G[d.status]??G.active}`,d.status.charAt(0).toUpperCase()+d.status.slice(1));l.appendChild(p),n.appendChild(l);const u=x("td","py-2 px-3"),f=x("button","text-[var(--accent)] hover:underline text-sm mr-2","Edit");f.type="button",u.appendChild(f);const w=x("button","text-red-400 hover:underline text-sm","Retire");w.type="button",u.appendChild(w),n.appendChild(u),i.appendChild(n)}return r.appendChild(i),e.appendChild(r),e}const qe={render(a){a.innerHTML="";const e=x("div","space-y-0"),r=x("div","flex items-center justify-between mb-4");r.appendChild(x("h1","text-2xl font-bold text-[var(--text)]","Customer Equipment"));const t=x("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Register Equipment");t.type="button",t.addEventListener("click",()=>{}),r.appendChild(t),e.appendChild(r),e.appendChild(Re((i,d)=>{}));const o=[];e.appendChild(Be(o)),a.appendChild(e)}},Me=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"}));function v(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const je=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"}],ze=[{value:"",label:"All Frequencies"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"semi_annual",label:"Semi-Annual"},{value:"annual",label:"Annual"}],Y={active:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",paused:"bg-amber-500/10 text-amber-400 border border-amber-500/20",completed:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"};function Ue(a){const e=v("div","flex flex-wrap items-center gap-3 mb-4"),r="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",t=v("input",r);t.type="text",t.placeholder="Search PM schedules...",e.appendChild(t);const o=v("select",r);for(const n of je){const l=v("option","",n.label);l.value=n.value,o.appendChild(l)}e.appendChild(o);const i=v("select",r);for(const n of ze){const l=v("option","",n.label);l.value=n.value,i.appendChild(l)}e.appendChild(i);const d=()=>a(o.value,i.value,t.value);return o.addEventListener("change",d),i.addEventListener("change",d),t.addEventListener("input",d),e}function We(a){const e=v("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),r=v("table","w-full text-sm"),t=v("thead"),o=v("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["Name","Equipment","Frequency","Last Performed","Next Due","Duration","Assigned","Status","Actions"])o.appendChild(v("th","py-2 px-3 font-medium",d));t.appendChild(o),r.appendChild(t);const i=v("tbody");if(a.length===0){const d=v("tr"),n=v("td","py-8 px-3 text-center text-[var(--text-muted)]","No PM schedules found. Create a preventive maintenance schedule to get started.");n.setAttribute("colspan","9"),d.appendChild(n),i.appendChild(d)}for(const d of a){const n=v("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");n.appendChild(v("td","py-2 px-3 font-medium text-[var(--text)]",d.name)),n.appendChild(v("td","py-2 px-3 text-[var(--text)]",d.equipmentName)),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",d.frequency)),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",d.lastPerformed)),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",d.nextDue)),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",d.estimatedDuration?`${d.estimatedDuration}h`:"-")),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",d.assignedTo));const l=v("td","py-2 px-3"),p=v("span",`px-2 py-0.5 rounded-full text-xs font-medium ${Y[d.status]??Y.active}`,d.status.charAt(0).toUpperCase()+d.status.slice(1));l.appendChild(p),n.appendChild(l);const u=v("td","py-2 px-3"),f=v("button","text-[var(--accent)] hover:underline text-sm mr-2","Generate WO");f.type="button",f.addEventListener("click",()=>{}),u.appendChild(f);const w=v("button","text-emerald-400 hover:underline text-sm","Complete");w.type="button",w.addEventListener("click",()=>{}),u.appendChild(w),n.appendChild(u),i.appendChild(n)}return r.appendChild(i),e.appendChild(r),e}const Fe={render(a){a.innerHTML="";const e=v("div","space-y-0"),r=v("div","flex items-center justify-between mb-4");r.appendChild(v("h1","text-2xl font-bold text-[var(--text)]","Preventive Maintenance Schedules"));const t=v("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","New PM Schedule");t.type="button",t.addEventListener("click",()=>{}),r.appendChild(t),e.appendChild(r),e.appendChild(Ue((i,d,n)=>{}));const o=[];e.appendChild(We(o)),a.appendChild(e)}},He=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"})),A=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"}),Q=a=>`${a.toFixed(1)}%`;function C(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}function Ge(a){const e=C("div","grid grid-cols-5 gap-4 mb-6"),r=(o,i,d)=>{const n=C("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return n.appendChild(C("div","text-sm text-[var(--text-muted)] mb-1",o)),n.appendChild(C("div",`text-xl font-bold font-mono ${d??"text-[var(--text)]"}`,i)),n},t={revenue:0,laborCost:0,materialCost:0,profit:0,margin:0};return e.appendChild(r("Total Revenue",A(t.revenue),"text-[var(--accent)]")),e.appendChild(r("Labor Cost",A(t.laborCost))),e.appendChild(r("Material Cost",A(t.materialCost))),e.appendChild(r("Profit",A(t.profit),"text-emerald-400")),e.appendChild(r("Margin",Q(t.margin),"text-emerald-400")),e}function Ye(a){const e=C("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),r=C("table","w-full text-sm"),t=C("thead"),o=C("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["Agreement","Revenue","Labor Cost","Material Cost","Profit","Margin"]){const n=d!=="Agreement"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";o.appendChild(C("th",n,d))}t.appendChild(o),r.appendChild(t);const i=C("tbody");if(a.length===0){const d=C("tr"),n=C("td","py-8 px-3 text-center text-[var(--text-muted)]","No profitability data available. Complete work orders to see analysis.");n.setAttribute("colspan","6"),d.appendChild(n),i.appendChild(d)}for(const d of a){const n=C("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),l=C("td","py-2 px-3"),p=C("a","text-[var(--accent)] hover:underline",d.agreementName);p.href=`#/service/agreements/${d.agreementId}`,l.appendChild(p),n.appendChild(l),n.appendChild(C("td","py-2 px-3 text-right font-mono",A(d.revenue))),n.appendChild(C("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",A(d.laborCost))),n.appendChild(C("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",A(d.materialCost)));const u=d.profit>=0?"text-emerald-400":"text-red-400";n.appendChild(C("td",`py-2 px-3 text-right font-mono font-medium ${u}`,A(d.profit)));const f=d.margin>=0?"text-emerald-400":"text-red-400";n.appendChild(C("td",`py-2 px-3 text-right font-mono ${f}`,Q(d.margin))),i.appendChild(n)}return r.appendChild(i),e.appendChild(r),e}const Ve={render(a){a.innerHTML="";const e=C("div","space-y-0"),r=C("div","flex items-center justify-between mb-4");r.appendChild(C("h1","text-2xl font-bold text-[var(--text)]","Service Profitability"));const t=C("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export Report");t.type="button",t.addEventListener("click",()=>{}),r.appendChild(t),e.appendChild(r),e.appendChild(Ge()),e.appendChild(C("h2","text-lg font-semibold text-[var(--text)] mb-3","By Agreement"));const o=[];e.appendChild(Ye(o)),a.appendChild(e)}},Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));function y(a,e,r){const t=document.createElement(a);return e&&(t.className=e),r!==void 0&&(t.textContent=r),t}const V={workOrder:{icon:"WO",color:"bg-blue-500/10 text-blue-400 border border-blue-500/20"},call:{icon:"SC",color:"bg-amber-500/10 text-amber-400 border border-amber-500/20"},equipment:{icon:"EQ",color:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"}},Ze=[{value:"",label:"All Types"},{value:"workOrder",label:"Work Orders"},{value:"call",label:"Service Calls"},{value:"equipment",label:"Equipment"}];function Je(a){const e=y("div","flex flex-wrap items-center gap-3 mb-4"),r="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",t=y("input",r);t.type="text",t.placeholder="Search customer...",e.appendChild(t);const o=y("select",r);for(const i of Ze){const d=y("option","",i.label);d.value=i.value,o.appendChild(d)}return e.appendChild(o),t.addEventListener("change",()=>a(t.value)),e}function Ke(a){const e=y("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");if(a.length===0)return e.appendChild(y("p","text-center text-[var(--text-muted)] py-8","No service history found. Select a customer to view their history.")),e;const r=y("div","space-y-4");for(const t of a){const o=y("div","flex items-start gap-4"),i=V[t.type]??V.workOrder,d=y("div",`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold ${i.color}`);d.textContent=i.icon,o.appendChild(d);const n=y("div","flex-1 min-w-0"),l=y("div","flex items-center justify-between");l.appendChild(y("span","text-sm font-medium text-[var(--text)]",t.description));const p=t.status==="completed"||t.status==="resolved"||t.status==="active"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":t.status==="cancelled"||t.status==="retired"?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20";if(l.appendChild(y("span",`px-2 py-0.5 rounded-full text-xs font-medium ${p}`,t.status)),n.appendChild(l),n.appendChild(y("div","text-xs text-[var(--text-muted)] mt-1",t.date)),o.appendChild(n),r.appendChild(o),t!==a[a.length-1]){const u=y("div","ml-5 border-l border-[var(--border)] h-4");r.appendChild(u)}}return e.appendChild(r),e}function Xe(){const a=y("div","grid grid-cols-4 gap-4 mb-4"),e=(r,t)=>{const o=y("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return o.appendChild(y("div","text-sm text-[var(--text-muted)] mb-1",r)),o.appendChild(y("div","text-xl font-bold text-[var(--text)]",t)),o};return a.appendChild(e("Total Work Orders","0")),a.appendChild(e("Service Calls","0")),a.appendChild(e("Equipment","0")),a.appendChild(e("Active Agreements","0")),a}const et={render(a){a.innerHTML="";const e=y("div","space-y-0"),r=y("div","flex items-center justify-between mb-4");r.appendChild(y("h1","text-2xl font-bold text-[var(--text)]","Customer Service History"));const t=y("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export History");t.type="button",t.addEventListener("click",()=>{}),r.appendChild(t),e.appendChild(r),e.appendChild(Je(i=>{})),e.appendChild(Xe());const o=[];e.appendChild(Ke(o)),a.appendChild(e)}},tt=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"}));export{dt as s};
