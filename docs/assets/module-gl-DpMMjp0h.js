const pe="modulepreload",ce=function(r,t){return new URL(r,t).href},K={},D=function(t,n,e){let l=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),a=d?.nonce||d?.getAttribute("nonce");l=Promise.allSettled(n.map(i=>{if(i=ce(i,e),i in K)return;K[i]=!0;const u=i.endsWith(".css"),x=u?'[rel="stylesheet"]':"";if(!!e)for(let s=o.length-1;s>=0;s--){const E=o[s];if(E.href===i&&(!u||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${x}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":pe,u||(c.as="script"),c.crossOrigin="",c.href=i,a&&c.setAttribute("nonce",a),document.head.appendChild(c),u)return new Promise((s,E)=>{c.addEventListener("load",s),c.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${i}`)))})}))}function p(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return l.then(o=>{for(const d of o||[])d.status==="rejected"&&p(d.reason);return t().catch(p)})},Qe={id:"concrete.gl",name:"General Ledger",description:"Chart of Accounts, journal entries, trial balance, and GL reports",version:"1.0.0",phase:1,dependencies:["concrete.core"],collections:["gl/account","gl/journalEntry","gl/journalLine","gl/fiscalPeriod","gl/recurringEntry","gl/closingEntry"],routes:[{path:"/gl",component:()=>D(()=>Promise.resolve().then(()=>xe),void 0,import.meta.url),title:"General Ledger"},{path:"/gl/accounts",component:()=>D(()=>Promise.resolve().then(()=>ge),void 0,import.meta.url),title:"Chart of Accounts"},{path:"/gl/accounts/new",component:()=>D(()=>Promise.resolve().then(()=>ne),void 0,import.meta.url),title:"New Account"},{path:"/gl/accounts/:id",component:()=>D(()=>Promise.resolve().then(()=>ne),void 0,import.meta.url),title:"Edit Account"},{path:"/gl/journal",component:()=>D(()=>Promise.resolve().then(()=>Te),void 0,import.meta.url),title:"Journal Entries"},{path:"/gl/journal/new",component:()=>D(()=>Promise.resolve().then(()=>oe),void 0,import.meta.url),title:"New Journal Entry"},{path:"/gl/journal/:id",component:()=>D(()=>Promise.resolve().then(()=>oe),void 0,import.meta.url),title:"Edit Journal Entry"},{path:"/gl/trial-balance",component:()=>D(()=>Promise.resolve().then(()=>Oe),void 0,import.meta.url),title:"Trial Balance"},{path:"/gl/detail",component:()=>D(()=>Promise.resolve().then(()=>Me),void 0,import.meta.url),title:"GL Detail"},{path:"/gl/recurring",component:()=>D(()=>Promise.resolve().then(()=>Je),void 0,import.meta.url),title:"Recurring Entries"},{path:"/gl/closing",component:()=>D(()=>Promise.resolve().then(()=>Ye),void 0,import.meta.url),title:"Closing Entries"}],navItems:[{id:"gl",label:"General Ledger",path:"/gl",order:10,icon:"ledger"},{id:"gl-accounts",label:"Chart of Accounts",path:"/gl/accounts",order:11,parent:"gl"},{id:"gl-journal",label:"Journal Entries",path:"/gl/journal",order:12,parent:"gl"},{id:"gl-trial-balance",label:"Trial Balance",path:"/gl/trial-balance",order:13,parent:"gl"},{id:"gl-detail",label:"GL Detail",path:"/gl/detail",order:14,parent:"gl"},{id:"gl-recurring",label:"Recurring",path:"/gl/recurring",order:15,parent:"gl"},{id:"gl-closing",label:"Period Close",path:"/gl/closing",order:16,parent:"gl"}],dashboardWidgets:[],settings:[],permissions:[{resource:"gl.account",actions:["create","read","update","delete","export"],description:"Chart of Accounts"},{resource:"gl.journalEntry",actions:["create","read","update","delete","post","void","export"],description:"Journal Entries"},{resource:"gl.period",actions:["read","close","reopen"],description:"Fiscal Periods"},{resource:"gl.report",actions:["read","export"],description:"GL Reports"}],workflows:[],importTypes:[{id:"gl-coa",label:"Chart of Accounts",collection:"gl/account",fields:[{name:"number",type:"string",required:!0,label:"Account Number"},{name:"name",type:"string",required:!0,label:"Account Name"},{name:"type",type:"enum",enum:["asset","liability","equity","revenue","expense","costOfRevenue"],required:!0,label:"Account Type"},{name:"parentNumber",type:"string",label:"Parent Account Number"},{name:"description",type:"string",label:"Description"},{name:"isActive",type:"boolean",label:"Active"}]},{id:"gl-journal",label:"Journal Entries",collection:"gl/journalEntry",fields:[{name:"date",type:"date",required:!0,label:"Date"},{name:"reference",type:"string",label:"Reference"},{name:"accountNumber",type:"string",required:!0,label:"Account Number"},{name:"debit",type:"currency",label:"Debit"},{name:"credit",type:"currency",label:"Credit"},{name:"description",type:"string",label:"Description"}]}],exportTypes:[{id:"gl-coa-export",label:"Chart of Accounts",collection:"gl/account",defaultFields:["number","name","type","parentId","description","isActive","normalBalance"]},{id:"gl-je-export",label:"Journal Entries",collection:"gl/journalEntry",defaultFields:["date","reference","description","status","totalDebit","totalCredit"]}],hooks:[]},I=r=>r.toLocaleString("en-US",{style:"currency",currency:"USD"}),se=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});function g(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}function ue(r){const t=g("div","grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6");for(const n of r){const e=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4 text-center"),l=g("div",`text-2xl font-bold ${n.color??"text-[var(--text)]"}`,n.value),p=g("div","text-xs text-[var(--text-muted)] mt-1",n.label);e.appendChild(l),e.appendChild(p),t.appendChild(e)}return t}function be(){const r=g("div","flex flex-wrap gap-3 mb-6"),t=[{label:"New Account",href:"#/gl/accounts/new",primary:!0},{label:"New Journal Entry",href:"#/gl/journal/new",primary:!0},{label:"Trial Balance",href:"#/gl/trial-balance"}];for(const n of t){const e=g("a");e.href=n.href,e.textContent=n.label,e.className=n.primary?"px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90":"px-4 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-raised)]",r.appendChild(e)}return r}const X={draft:"bg-amber-500/10 text-amber-400 border border-amber-500/20",posted:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",voided:"bg-red-500/10 text-red-400 border border-red-500/20"};function me(r){const t=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4"),n=g("h2","text-lg font-semibold text-[var(--text)] mb-4","Recent Journal Entries");t.appendChild(n);const e=g("table","w-full text-sm"),l=g("thead"),p=g("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["Entry #","Date","Description","Debit","Credit","Status"]){const a=g("th","py-2 px-3 font-medium",d);p.appendChild(a)}l.appendChild(p),e.appendChild(l);const o=g("tbody");if(r.length===0){const d=g("tr"),a=g("td","py-6 px-3 text-center text-[var(--text-muted)]","No journal entries yet.");a.setAttribute("colspan","6"),d.appendChild(a),o.appendChild(d)}for(const d of r){const a=g("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),i=g("td","py-2 px-3 font-mono"),u=g("a","text-[var(--accent)] hover:underline",d.number);u.href=`#/gl/journal/${d.number}`,i.appendChild(u);const x=g("td","py-2 px-3",se(d.date)),h=g("td","py-2 px-3 truncate max-w-[200px]",d.description),c=g("td","py-2 px-3 text-right font-mono",I(d.totalDebit)),s=g("td","py-2 px-3 text-right font-mono",I(d.totalCredit)),E=g("td","py-2 px-3"),_=g("span",`px-2 py-0.5 rounded-full text-xs font-medium ${X[d.status]??X.draft}`,d.status.charAt(0).toUpperCase()+d.status.slice(1));E.appendChild(_),a.append(i,x,h,c,s,E),o.appendChild(a)}return e.appendChild(o),t.appendChild(e),t}const he={render(r){r.innerHTML="";const t=g("div","space-y-0"),n=g("h1","text-2xl font-bold text-[var(--text)] mb-6","General Ledger");t.appendChild(n);const e=[{label:"Total Accounts",value:"0"},{label:"Journal Entries (This Month)",value:"0"},{label:"Total Debits",value:I(0),color:"text-[var(--positive)]"},{label:"Total Credits",value:I(0),color:"text-[var(--negative)]"}];t.appendChild(ue(e)),t.appendChild(be());const l=[];t.appendChild(me(l)),r.appendChild(t)}},xe=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));function y(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}const fe=["asset","liability","equity","revenue","expense","costOfRevenue"],ie={asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense",costOfRevenue:"Cost of Revenue"};function ve(r){const t=y("div","flex flex-wrap items-center gap-3 mb-4"),n=y("select","bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]"),e=y("option","","All Types");e.value="",n.appendChild(e);for(const p of fe){const o=y("option","",ie[p]);o.value=p,n.appendChild(o)}t.appendChild(n);const l=y("select","bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");for(const[p,o]of[["","All"],["active","Active Only"],["inactive","Inactive Only"]]){const d=y("option","",o);d.value=p,l.appendChild(d)}return t.appendChild(l),n.addEventListener("change",()=>r(n.value,l.value)),l.addEventListener("change",()=>r(n.value,l.value)),t}function Ce(r){const t=y("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=y("table","w-full text-sm"),e=y("thead"),l=y("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const o of["Number","Name","Type","Normal Balance","Active","Actions"])l.appendChild(y("th","py-2 px-3 font-medium",o));e.appendChild(l),n.appendChild(e);const p=y("tbody");if(p.setAttribute("data-role","account-rows"),r.length===0){const o=y("tr"),d=y("td","py-8 px-3 text-center text-[var(--text-muted)]","No accounts found. Create your first account to get started.");d.setAttribute("colspan","6"),o.appendChild(d),p.appendChild(o)}for(const o of r){const d=y("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");d.appendChild(y("td","py-2 px-3 font-mono text-[var(--text)]",o.number));const a=y("td","py-2 px-3 text-[var(--text)]"),i=y("span");i.style.paddingLeft=`${o.depth*1.25}rem`,i.textContent=o.name,a.appendChild(i),d.appendChild(a),d.appendChild(y("td","py-2 px-3",ie[o.type]??o.type));const u=o.normalBalance==="debit"?"Debit":"Credit";d.appendChild(y("td","py-2 px-3",u));const x=y("td","py-2 px-3"),h=y("span",o.isActive?"px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"px-2 py-0.5 rounded-full text-xs font-medium bg-red-500/10 text-red-400 border border-red-500/20",o.isActive?"Active":"Inactive");x.appendChild(h),d.appendChild(x);const c=y("td","py-2 px-3"),s=y("a","text-[var(--accent)] hover:underline text-sm","Edit");s.href=`#/gl/accounts/${o.id}`,c.appendChild(s),d.appendChild(c),p.appendChild(d)}return n.appendChild(p),t.appendChild(n),t}const ye={render(r){r.innerHTML="";const t=y("div","space-y-0"),n=y("div","flex items-center justify-between mb-4");n.appendChild(y("h1","text-2xl font-bold text-[var(--text)]","Chart of Accounts"));const e=y("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");e.href="#/gl/accounts/new",e.textContent="New Account",n.appendChild(e),t.appendChild(n),t.appendChild(ve((p,o)=>{}));const l=[];t.appendChild(Ce(l)),r.appendChild(t)}},ge=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));function A(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}const we=[{value:"asset",label:"Asset"},{value:"liability",label:"Liability"},{value:"equity",label:"Equity"},{value:"revenue",label:"Revenue"},{value:"expense",label:"Expense"},{value:"costOfRevenue",label:"Cost of Revenue"}],Ee={asset:"Debit",liability:"Credit",equity:"Credit",revenue:"Credit",expense:"Debit",costOfRevenue:"Debit"},k="w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:border-[var(--accent)]";function N(r,t){const n=A("div","flex flex-col gap-1"),e=A("label","text-sm font-medium text-[var(--text-muted)]",r);return n.appendChild(e),n.appendChild(t),n}function Z(r,t){const n=A("input",k);return n.type="text",n.name=r,t&&(n.placeholder=t),n}function ee(r,t,n){const e=A("select",k);if(e.name=r,n){const l=A("option","",n);l.value="",e.appendChild(l)}for(const l of t){const p=A("option","",l.label);p.value=l.value,e.appendChild(p)}return e}function te(r,t,n){const e=A("label","flex items-center gap-2 text-sm text-[var(--text)] cursor-pointer"),l=document.createElement("input");l.type="checkbox",l.name=r,l.checked=n,l.className="rounded border-[var(--border)] bg-[var(--surface)] text-[var(--accent)] focus:ring-[var(--accent)]",e.appendChild(l);const p=A("span","",t);return e.appendChild(p),e}const Ae={render(r){r.innerHTML="";const t=window.location.hash.match(/\/gl\/accounts\/(?!new)([^/]+)/),n=t?t[1]:null,e=A("div","max-w-2xl mx-auto"),l=A("h1","text-2xl font-bold text-[var(--text)] mb-6",n?"Edit Account":"New Account");e.appendChild(l);const p=A("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),o=A("form","space-y-5");o.setAttribute("data-role","account-form");const d=Z("number","e.g. 1000");o.appendChild(N("Account Number",d));const a=Z("name","e.g. Cash");o.appendChild(N("Account Name",a));const i=ee("type",we,"Select type...");o.appendChild(N("Type",i));const u=A("input",k);u.type="text",u.name="normalBalance",u.readOnly=!0,u.value="",u.placeholder="Auto-inferred from type",u.classList.add("opacity-70","cursor-not-allowed"),o.appendChild(N("Normal Balance",u)),i.addEventListener("change",()=>{const S=i.value;u.value=S?Ee[S]:""});const x=ee("parentId",[],"None (top-level)");x.setAttribute("data-role","parent-select"),o.appendChild(N("Parent Account",x));const h=A("textarea",k);h.name="description",h.rows=3,h.placeholder="Optional description...",o.appendChild(N("Description",h));const c=A("div","flex items-center gap-6");c.appendChild(te("isActive","Active",!0)),c.appendChild(te("isSummary","Summary Account",!1)),o.appendChild(c);const s=A("div","flex items-center gap-3 pt-4 border-t border-[var(--border)]"),E=A("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save");E.type="submit",s.appendChild(E);const _=A("a","px-4 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-raised)]","Cancel");_.href="#/gl/accounts",s.appendChild(_),o.appendChild(s),o.addEventListener("submit",S=>{S.preventDefault()}),p.appendChild(o),e.appendChild(p),r.appendChild(e)}},ne=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"})),re=r=>r.toLocaleString("en-US",{style:"currency",currency:"USD"}),_e=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});function C(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}const de={draft:"bg-amber-500/10 text-amber-400 border border-amber-500/20",posted:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",voided:"bg-red-500/10 text-red-400 border border-red-500/20"},De=[{value:"",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"posted",label:"Posted"},{value:"voided",label:"Voided"}];function Se(r){const t=C("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",e=C("select",n);for(const i of De){const u=C("option","",i.label);u.value=i.value,e.appendChild(u)}t.appendChild(e);const l=C("label","text-sm text-[var(--text-muted)]","From");t.appendChild(l);const p=C("input",n);p.type="date",p.name="startDate",t.appendChild(p);const o=C("label","text-sm text-[var(--text-muted)]","To");t.appendChild(o);const d=C("input",n);d.type="date",d.name="endDate",t.appendChild(d);const a=()=>r(e.value,p.value,d.value);return e.addEventListener("change",a),p.addEventListener("change",a),d.addEventListener("change",a),t}function Le(r){const t=C("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=C("table","w-full text-sm"),e=C("thead"),l=C("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const o of["Entry #","Date","Description","Reference","Debit","Credit","Status","Actions"])l.appendChild(C("th","py-2 px-3 font-medium",o));e.appendChild(l),n.appendChild(e);const p=C("tbody");if(p.setAttribute("data-role","je-rows"),r.length===0){const o=C("tr"),d=C("td","py-8 px-3 text-center text-[var(--text-muted)]","No journal entries found.");d.setAttribute("colspan","8"),o.appendChild(d),p.appendChild(o)}for(const o of r){const d=C("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),a=C("td","py-2 px-3 font-mono"),i=C("a","text-[var(--accent)] hover:underline",o.number);i.href=`#/gl/journal/${o.id}`,a.appendChild(i),d.appendChild(a),d.appendChild(C("td","py-2 px-3",_e(o.date))),d.appendChild(C("td","py-2 px-3 truncate max-w-[200px]",o.description)),d.appendChild(C("td","py-2 px-3 text-[var(--text-muted)]",o.reference??"")),d.appendChild(C("td","py-2 px-3 text-right font-mono",re(o.totalDebit))),d.appendChild(C("td","py-2 px-3 text-right font-mono",re(o.totalCredit)));const u=C("td","py-2 px-3"),x=C("span",`px-2 py-0.5 rounded-full text-xs font-medium ${de[o.status]??de.draft}`,o.status.charAt(0).toUpperCase()+o.status.slice(1));u.appendChild(x),d.appendChild(u);const h=C("td","py-2 px-3"),c=C("a","text-[var(--accent)] hover:underline text-sm","View");c.href=`#/gl/journal/${o.id}`,h.appendChild(c),d.appendChild(h),p.appendChild(d)}return n.appendChild(p),t.appendChild(n),t}const Re={render(r){r.innerHTML="";const t=C("div","space-y-0"),n=C("div","flex items-center justify-between mb-4");n.appendChild(C("h1","text-2xl font-bold text-[var(--text)]","Journal Entries"));const e=C("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");e.href="#/gl/journal/new",e.textContent="New Entry",n.appendChild(e),t.appendChild(n),t.appendChild(Se((p,o,d)=>{}));const l=[];t.appendChild(Le(l)),r.appendChild(t)}},Te=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),O=r=>r.toLocaleString("en-US",{style:"currency",currency:"USD"});function b(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}const T="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)] focus:outline-none focus:border-[var(--accent)]";function q(r,t,n){const e=b("div","flex flex-col gap-1 flex-1"),l=b("label","text-sm font-medium text-[var(--text-muted)]",r);return e.appendChild(l),e.appendChild(t),e}function F(r,t,n,e){let l=0,p=0;r.querySelectorAll("tr[data-line]").forEach(a=>{const i=a.querySelector('input[name="lineDebit"]'),u=a.querySelector('input[name="lineCredit"]');l+=parseFloat(i?.value||"0")||0,p+=parseFloat(u?.value||"0")||0}),t.textContent=O(l),n.textContent=O(p);const d=Math.abs(l-p);d<.005?(e.textContent="Balanced",e.className="text-sm font-medium text-[var(--positive)]"):(e.textContent=`Out of balance by ${O(d)}`,e.className="text-sm font-medium text-[var(--negative)]")}function Ne(r,t,n,e,l){const p=b("tr","border-b border-[var(--border)]");p.setAttribute("data-line",String(r)),p.appendChild(b("td","py-2 px-2 text-center text-[var(--text-muted)] text-xs",String(r)));const o=b("td","py-2 px-2"),d=b("select",`${T} w-full`);d.name="lineAccount";const a=b("option","","Select account...");a.value="",d.appendChild(a),d.setAttribute("data-role","line-account"),o.appendChild(d),p.appendChild(o);const i=b("td","py-2 px-2"),u=b("input",`${T} w-full`);u.type="text",u.name="lineDescription",u.placeholder="Line description",i.appendChild(u),p.appendChild(i);const x=b("td","py-2 px-2"),h=b("input",`${T} w-24 text-right`);h.type="number",h.name="lineDebit",h.step="0.01",h.min="0",h.placeholder="0.00",h.addEventListener("input",()=>{parseFloat(h.value)>0&&(s.value=""),F(t,n,e,l)}),x.appendChild(h),p.appendChild(x);const c=b("td","py-2 px-2"),s=b("input",`${T} w-24 text-right`);s.type="number",s.name="lineCredit",s.step="0.01",s.min="0",s.placeholder="0.00",s.addEventListener("input",()=>{parseFloat(s.value)>0&&(h.value=""),F(t,n,e,l)}),c.appendChild(s),p.appendChild(c);const E=b("td","py-2 px-2 text-center"),_=b("button","text-[var(--text-muted)] hover:text-[var(--negative)] text-sm","Remove");return _.type="button",_.addEventListener("click",()=>{p.remove(),F(t,n,e,l)}),E.appendChild(_),p.appendChild(E),p}const je={render(r){r.innerHTML="";const t=window.location.hash.match(/\/gl\/journal\/(?!new)([^/]+)/),n=t?t[1]:null,e=b("div","max-w-4xl mx-auto"),l=b("h1","text-2xl font-bold text-[var(--text)] mb-6",n?"Edit Journal Entry":"New Journal Entry");e.appendChild(l);const p=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),o=b("form","space-y-6");o.setAttribute("data-role","je-form");const d=b("div","grid grid-cols-1 md:grid-cols-3 gap-4"),a=b("input",T);a.type="date",a.name="date",a.value=new Date().toISOString().split("T")[0],d.appendChild(q("Date",a));const i=b("input",T);i.type="text",i.name="reference",i.placeholder="e.g. INV-001",d.appendChild(q("Reference",i));const u=b("input",T);u.type="text",u.name="description",u.placeholder="Entry description",d.appendChild(q("Description",u)),o.appendChild(d);const x=b("div","space-y-3"),h=b("div","flex items-center justify-between");h.appendChild(b("h2","text-lg font-semibold text-[var(--text)]","Lines"));const c=b("button","px-3 py-1 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Add Line");c.type="button",h.appendChild(c),x.appendChild(h);const s=b("div","border border-[var(--border)] rounded-lg overflow-hidden"),E=b("table","w-full text-sm"),_=b("thead"),S=b("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const $ of["#","Account","Description","Debit","Credit",""])S.appendChild(b("th","py-2 px-2 font-medium",$));_.appendChild(S),E.appendChild(_);const L=b("tbody");L.setAttribute("data-role","je-lines"),E.appendChild(L);const J=b("tfoot"),R=b("tr","border-t-2 border-[var(--border)] font-semibold");R.appendChild(b("td","py-2 px-2")),R.appendChild(b("td","py-2 px-2")),R.appendChild(b("td","py-2 px-2 text-right text-[var(--text-muted)]","Totals"));const V=b("td","py-2 px-2 text-right font-mono",O(0));R.appendChild(V);const W=b("td","py-2 px-2 text-right font-mono",O(0));R.appendChild(W),R.appendChild(b("td","py-2 px-2")),J.appendChild(R),E.appendChild(J),s.appendChild(E),x.appendChild(s);const H=b("div","text-sm font-medium text-[var(--positive)]","Balanced");x.appendChild(H),o.appendChild(x);let z=0;const U=()=>{z++;const $=Ne(z,L,V,W,H);L.appendChild($)};U(),U(),c.addEventListener("click",U);const B=b("div","flex items-center gap-3 pt-4 border-t border-[var(--border)]"),M=b("button","px-4 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-raised)] border border-[var(--border)]","Save as Draft");M.type="button",M.addEventListener("click",()=>{}),B.appendChild(M);const Y=b("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Post");Y.type="submit",B.appendChild(Y);const Q=b("a","px-4 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)]","Cancel");Q.href="#/gl/journal",B.appendChild(Q),o.appendChild(B),o.addEventListener("submit",$=>{$.preventDefault()}),p.appendChild(o),e.appendChild(p),r.appendChild(e)}},oe=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"})),P=r=>r.toLocaleString("en-US",{style:"currency",currency:"USD"});function f(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}function $e(r,t,n){const e=f("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),l=f("table","w-full text-sm"),p=f("thead"),o=f("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const c of["Account Number","Account Name","Type","Debit","Credit"]){const s=c==="Debit"||c==="Credit"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";o.appendChild(f("th",s,c))}p.appendChild(o),l.appendChild(p);const d=f("tbody");if(d.setAttribute("data-role","tb-rows"),r.length===0){const c=f("tr"),s=f("td","py-8 px-3 text-center text-[var(--text-muted)]","No posted transactions found for the selected period.");s.setAttribute("colspan","5"),c.appendChild(s),d.appendChild(c)}for(const c of r){const s=f("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");s.appendChild(f("td","py-2 px-3 font-mono",c.number)),s.appendChild(f("td","py-2 px-3",c.name)),s.appendChild(f("td","py-2 px-3 text-[var(--text-muted)]",c.type)),s.appendChild(f("td","py-2 px-3 text-right font-mono",c.debit>0?P(c.debit):"")),s.appendChild(f("td","py-2 px-3 text-right font-mono",c.credit>0?P(c.credit):"")),d.appendChild(s)}l.appendChild(d);const a=f("tfoot"),i=f("tr","border-t-2 border-[var(--border)] font-semibold");i.appendChild(f("td","py-2 px-3")),i.appendChild(f("td","py-2 px-3")),i.appendChild(f("td","py-2 px-3 text-right text-[var(--text-muted)]","Totals")),i.appendChild(f("td","py-2 px-3 text-right font-mono",P(t))),i.appendChild(f("td","py-2 px-3 text-right font-mono",P(n))),a.appendChild(i);const u=Math.abs(t-n),x=f("tr");x.appendChild(f("td","py-1 px-3")),x.appendChild(f("td","py-1 px-3")),x.appendChild(f("td","py-1 px-3"));const h=f("td","py-1 px-3 text-right text-xs");return h.setAttribute("colspan","2"),u<.005?(h.className="py-1 px-3 text-right text-xs text-[var(--positive)]",h.textContent="Balanced"):(h.className="py-1 px-3 text-right text-xs text-[var(--negative)]",h.textContent=`Out of balance by ${P(u)}`),x.appendChild(h),a.appendChild(x),l.appendChild(a),e.appendChild(l),e}const Pe={render(r){r.innerHTML="";const t=f("div","space-y-0"),n=f("div","flex items-center justify-between mb-4");n.appendChild(f("h1","text-2xl font-bold text-[var(--text)]","Trial Balance"));const e=f("button","px-4 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-raised)] border border-[var(--border)]","Export");e.type="button",e.setAttribute("data-role","export-tb"),e.addEventListener("click",()=>{}),n.appendChild(e),t.appendChild(n);const l=f("div","flex items-center gap-3 mb-4"),p=f("label","text-sm font-medium text-[var(--text-muted)]","As of Date");l.appendChild(p);const o=f("input","bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");o.type="date",o.name="asOfDate",o.value=new Date().toISOString().split("T")[0],o.addEventListener("change",()=>{}),l.appendChild(o);const d=f("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Refresh");d.type="button",d.addEventListener("click",()=>{}),l.appendChild(d),t.appendChild(l);const a=[];t.appendChild($e(a,0,0)),r.appendChild(t)}},Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"})),j=r=>r.toLocaleString("en-US",{style:"currency",currency:"USD"}),Be=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});function v(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}function Ie(r){const t=v("div","flex flex-wrap items-center gap-3 mb-4"),n="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",e=v("select",n);e.name="accountId",e.setAttribute("data-role","account-picker");const l=v("option","","Select account...");l.value="",e.appendChild(l),t.appendChild(e);const p=v("label","text-sm text-[var(--text-muted)]","From");t.appendChild(p);const o=v("input",n);o.type="date",o.name="startDate",t.appendChild(o);const d=v("label","text-sm text-[var(--text-muted)]","To");t.appendChild(d);const a=v("input",n);a.type="date",a.name="endDate",t.appendChild(a);const i=v("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Refresh");return i.type="button",i.addEventListener("click",()=>{r(e.value,o.value,a.value)}),t.appendChild(i),t}function ke(r){const t=v("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),n=v("table","w-full text-sm"),e=v("thead"),l=v("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const a of["Date","Entry #","Description","Debit","Credit","Running Balance"]){const i=["Debit","Credit","Running Balance"].includes(a)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";l.appendChild(v("th",i,a))}e.appendChild(l),n.appendChild(e);const p=v("tbody");if(p.setAttribute("data-role","detail-rows"),r.length===0){const a=v("tr"),i=v("td","py-8 px-3 text-center text-[var(--text-muted)]","Select an account and click Refresh to view detail.");i.setAttribute("colspan","6"),a.appendChild(i),p.appendChild(a)}let o=0,d=0;for(const a of r){o+=a.debit,d+=a.credit;const i=v("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");i.appendChild(v("td","py-2 px-3",Be(a.date)));const u=v("td","py-2 px-3 font-mono"),x=v("a","text-[var(--accent)] hover:underline",a.jeNumber);x.href=`#/gl/journal/${a.jeId}`,u.appendChild(x),i.appendChild(u),i.appendChild(v("td","py-2 px-3 truncate max-w-[200px]",a.description)),i.appendChild(v("td","py-2 px-3 text-right font-mono",a.debit>0?j(a.debit):"")),i.appendChild(v("td","py-2 px-3 text-right font-mono",a.credit>0?j(a.credit):""));const h=a.balance>=0?"text-[var(--positive)]":"text-[var(--negative)]";i.appendChild(v("td",`py-2 px-3 text-right font-mono font-semibold ${h}`,j(a.balance))),p.appendChild(i)}if(n.appendChild(p),r.length>0){const a=v("tfoot"),i=v("tr","border-t-2 border-[var(--border)] font-semibold");i.appendChild(v("td","py-2 px-3")),i.appendChild(v("td","py-2 px-3")),i.appendChild(v("td","py-2 px-3 text-right text-[var(--text-muted)]","Totals")),i.appendChild(v("td","py-2 px-3 text-right font-mono",j(o))),i.appendChild(v("td","py-2 px-3 text-right font-mono",j(d)));const u=r.length>0?r[r.length-1].balance:0,x=u>=0?"text-[var(--positive)]":"text-[var(--negative)]";i.appendChild(v("td",`py-2 px-3 text-right font-mono ${x}`,j(u))),a.appendChild(i),n.appendChild(a)}return t.appendChild(n),t}const Ue={render(r){r.innerHTML="";const t=v("div","space-y-0");t.appendChild(v("h1","text-2xl font-bold text-[var(--text)] mb-4","GL Detail")),t.appendChild(Ie((e,l,p)=>{}));const n=[];t.appendChild(ke(n)),r.appendChild(t)}},Me=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),ae=r=>r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"--";function w(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}const qe={daily:"Daily",weekly:"Weekly",biweekly:"Bi-Weekly",monthly:"Monthly",quarterly:"Quarterly",yearly:"Yearly"};function Fe(r,t){const n=w("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),e=w("table","w-full text-sm"),l=w("thead"),p=w("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const d of["Name","Frequency","Next Run","Last Run","Active","Actions"])p.appendChild(w("th","py-2 px-3 font-medium",d));l.appendChild(p),e.appendChild(l);const o=w("tbody");if(o.setAttribute("data-role","recurring-rows"),r.length===0){const d=w("tr"),a=w("td","py-8 px-3 text-center text-[var(--text-muted)]","No recurring journal entries. Create a template to automate repeating entries.");a.setAttribute("colspan","6"),d.appendChild(a),o.appendChild(d)}for(const d of r){const a=w("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");a.appendChild(w("td","py-2 px-3 font-medium text-[var(--text)]",d.name)),a.appendChild(w("td","py-2 px-3",qe[d.frequency]??d.frequency)),a.appendChild(w("td","py-2 px-3",ae(d.nextRunDate))),a.appendChild(w("td","py-2 px-3 text-[var(--text-muted)]",d.lastRunDate?ae(d.lastRunDate):"--"));const i=w("td","py-2 px-3"),u=w("span",d.isActive?"px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"px-2 py-0.5 rounded-full text-xs font-medium bg-red-500/10 text-red-400 border border-red-500/20",d.isActive?"Active":"Inactive");i.appendChild(u),a.appendChild(i);const x=w("td","py-2 px-3"),h=w("div","flex items-center gap-2"),c=w("button","px-3 py-1 rounded-md text-xs font-medium bg-[var(--accent)] text-white hover:opacity-90","Execute");c.type="button",c.addEventListener("click",()=>t(d.id)),h.appendChild(c);const s=w("a","text-[var(--accent)] hover:underline text-sm","Edit");s.href=`#/gl/recurring/${d.id}`,h.appendChild(s),x.appendChild(h),a.appendChild(x),o.appendChild(a)}return e.appendChild(o),n.appendChild(e),n}const Ge={render(r){r.innerHTML="";const t=w("div","space-y-0"),n=w("div","flex items-center justify-between mb-4");n.appendChild(w("h1","text-2xl font-bold text-[var(--text)]","Recurring Journal Entries"));const e=w("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","New Template");e.type="button",e.addEventListener("click",()=>{}),n.appendChild(e),t.appendChild(n);const l=[];t.appendChild(Fe(l,p=>{})),r.appendChild(t)}},Je=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),G=r=>r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"--";function m(r,t,n){const e=document.createElement(r);return t&&(e.className=t),n!==void 0&&(e.textContent=n),e}const le={open:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",closed:"bg-amber-500/10 text-amber-400 border border-amber-500/20",locked:"bg-red-500/10 text-red-400 border border-red-500/20"};function Ve(r){const t=m("div","flex items-center gap-3 mb-4"),n=m("label","text-sm font-medium text-[var(--text-muted)]","Fiscal Year");t.appendChild(n);const l=m("select","bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");l.setAttribute("data-role","year-select");const p=new Date().getFullYear();for(let o=p+1;o>=p-5;o--){const d=m("option","",String(o));d.value=String(o),o===p&&(d.selected=!0),l.appendChild(d)}return l.addEventListener("change",()=>r(parseInt(l.value,10))),t.appendChild(l),t}function We(r,t,n){const e=m("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4 mb-6");e.appendChild(m("h2","text-lg font-semibold text-[var(--text)] mb-3","Fiscal Periods"));const l=m("table","w-full text-sm"),p=m("thead"),o=m("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const a of["Period Name","Start","End","Status","Actions"])o.appendChild(m("th","py-2 px-3 font-medium",a));p.appendChild(o),l.appendChild(p);const d=m("tbody");if(d.setAttribute("data-role","period-rows"),r.length===0){const a=m("tr"),i=m("td","py-8 px-3 text-center text-[var(--text-muted)]","No fiscal periods for the selected year. Periods are generated automatically or can be created in settings.");i.setAttribute("colspan","5"),a.appendChild(i),d.appendChild(a)}for(const a of r){const i=m("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");i.appendChild(m("td","py-2 px-3 font-medium text-[var(--text)]",a.name)),i.appendChild(m("td","py-2 px-3",G(a.startDate))),i.appendChild(m("td","py-2 px-3",G(a.endDate)));const u=m("td","py-2 px-3"),x=m("span",`px-2 py-0.5 rounded-full text-xs font-medium ${le[a.status]??le.open}`,a.status.charAt(0).toUpperCase()+a.status.slice(1));u.appendChild(x),i.appendChild(u);const h=m("td","py-2 px-3"),c=m("div","flex items-center gap-2");if(a.status==="open"){const s=m("button","px-3 py-1 rounded-md text-xs font-medium bg-amber-500/20 text-amber-400 hover:bg-amber-500/30","Close");s.type="button",s.addEventListener("click",()=>t(a.id)),c.appendChild(s)}else if(a.status==="closed"){const s=m("button","px-3 py-1 rounded-md text-xs font-medium bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30","Reopen");s.type="button",s.addEventListener("click",()=>n(a.id)),c.appendChild(s)}else c.appendChild(m("span","text-xs text-[var(--text-muted)]","Locked"));h.appendChild(c),i.appendChild(h),d.appendChild(i)}return l.appendChild(d),e.appendChild(l),e}function He(r,t){const n=m("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");n.appendChild(m("h2","text-lg font-semibold text-[var(--text)] mb-3","Closing Entries"));const e=m("div","flex flex-wrap items-center gap-3 mb-4"),l="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",p=m("label","text-sm font-medium text-[var(--text-muted)]","Retained Earnings Account");e.appendChild(p);const o=m("select",l);o.name="retainedEarningsAccountId",o.setAttribute("data-role","retained-earnings-select");const d=m("option","","Select account...");d.value="",o.appendChild(d),e.appendChild(o);const a=m("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Generate Closing Entries");if(a.type="button",a.addEventListener("click",()=>{t(o.value)}),e.appendChild(a),n.appendChild(e),r.length>0){const i=m("table","w-full text-sm"),u=m("thead"),x=m("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const c of["Entry #","Date","Description","Status"])x.appendChild(m("th","py-2 px-3 font-medium",c));u.appendChild(x),i.appendChild(u);const h=m("tbody");for(const c of r){const s=m("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),E=m("td","py-2 px-3 font-mono"),_=m("a","text-[var(--accent)] hover:underline",c.number);_.href=`#/gl/journal/${c.id}`,E.appendChild(_),s.appendChild(E),s.appendChild(m("td","py-2 px-3",G(c.date))),s.appendChild(m("td","py-2 px-3",c.description));const S=m("span",`px-2 py-0.5 rounded-full text-xs font-medium ${c.status==="posted"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-amber-500/10 text-amber-400 border border-amber-500/20"}`,c.status.charAt(0).toUpperCase()+c.status.slice(1)),L=m("td","py-2 px-3");L.appendChild(S),s.appendChild(L),h.appendChild(s)}i.appendChild(h),n.appendChild(i)}else n.appendChild(m("p","text-sm text-[var(--text-muted)]","No closing entries generated yet for the selected period."));return n}const ze={render(r){r.innerHTML="";const t=m("div","space-y-0");t.appendChild(m("h1","text-2xl font-bold text-[var(--text)] mb-4","Period Close")),t.appendChild(Ve(l=>{}));const n=[];t.appendChild(We(n,l=>{},l=>{}));const e=[];t.appendChild(He(e,l=>{})),r.appendChild(t)}},Ye=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"}));export{D as _,Qe as g};
