import{_ as P}from"./module-gl-DpMMjp0h.js";const bt={id:"concrete.ap",name:"Accounts Payable",description:"Vendor management, invoice processing, payments, retention, lien waivers, compliance, and 1099 reporting",version:"1.0.0",phase:4,dependencies:["concrete.gl","concrete.entity","concrete.job"],collections:["ap/vendor","ap/invoice","ap/invoiceLine","ap/payment","ap/paymentLine","ap/lienWaiver","ap/complianceCert","ap/retention"],routes:[{path:"/ap/vendors",component:()=>P(()=>Promise.resolve().then(()=>oe),void 0,import.meta.url),title:"Vendors",icon:"users"},{path:"/ap/vendors/new",component:()=>P(()=>Promise.resolve().then(()=>z),void 0,import.meta.url),title:"New Vendor",icon:"user-plus"},{path:"/ap/vendors/:id",component:()=>P(()=>Promise.resolve().then(()=>z),void 0,import.meta.url),title:"Edit Vendor",icon:"edit"},{path:"/ap/invoices",component:()=>P(()=>Promise.resolve().then(()=>he),void 0,import.meta.url),title:"Invoices",icon:"file-text"},{path:"/ap/invoices/new",component:()=>P(()=>Promise.resolve().then(()=>W),void 0,import.meta.url),title:"New Invoice",icon:"plus"},{path:"/ap/invoices/:id",component:()=>P(()=>Promise.resolve().then(()=>W),void 0,import.meta.url),title:"Edit Invoice",icon:"edit"},{path:"/ap/payments",component:()=>P(()=>Promise.resolve().then(()=>Pe),void 0,import.meta.url),title:"Payments",icon:"credit-card"},{path:"/ap/aging",component:()=>P(()=>Promise.resolve().then(()=>$e),void 0,import.meta.url),title:"Aging Report",icon:"clock"},{path:"/ap/1099",component:()=>P(()=>Promise.resolve().then(()=>Ve),void 0,import.meta.url),title:"1099 Report",icon:"file"},{path:"/ap/lien-waivers",component:()=>P(()=>Promise.resolve().then(()=>Xe),void 0,import.meta.url),title:"Lien Waivers",icon:"shield"},{path:"/ap/compliance",component:()=>P(()=>Promise.resolve().then(()=>rt),void 0,import.meta.url),title:"Compliance",icon:"check-circle"},{path:"/ap/retention",component:()=>P(()=>Promise.resolve().then(()=>ct),void 0,import.meta.url),title:"Retention",icon:"lock"}],navItems:[{id:"ap",label:"AP",icon:"credit-card",path:"/ap/vendors",order:40},{id:"ap-vendors",label:"Vendors",icon:"users",path:"/ap/vendors",order:1,parent:"ap"},{id:"ap-invoices",label:"Invoices",icon:"file-text",path:"/ap/invoices",order:2,parent:"ap"},{id:"ap-payments",label:"Payments",icon:"credit-card",path:"/ap/payments",order:3,parent:"ap"},{id:"ap-aging",label:"Aging",icon:"clock",path:"/ap/aging",order:4,parent:"ap"},{id:"ap-1099",label:"1099",icon:"file",path:"/ap/1099",order:5,parent:"ap"},{id:"ap-lien-waivers",label:"Lien Waivers",icon:"shield",path:"/ap/lien-waivers",order:6,parent:"ap"},{id:"ap-compliance",label:"Compliance",icon:"check-circle",path:"/ap/compliance",order:7,parent:"ap"},{id:"ap-retention",label:"Retention",icon:"lock",path:"/ap/retention",order:8,parent:"ap"}],dashboardWidgets:[],settings:[],permissions:[{resource:"vendor",actions:["create","read","update","delete","export"],description:"Vendor management"},{resource:"ap.invoice",actions:["create","read","update","approve","void","export"],description:"AP invoice management"},{resource:"ap.payment",actions:["create","read","void","export"],description:"Payment processing"},{resource:"ap.retention",actions:["create","read","release","export"],description:"Retention tracking"},{resource:"ap.lienWaiver",actions:["create","read","update","export"],description:"Lien waiver tracking"},{resource:"ap.compliance",actions:["create","read","update","export"],description:"Compliance certificate tracking"},{resource:"ap.report",actions:["read","export"],description:"AP reports (aging, 1099)"}],workflows:[],importTypes:[{id:"ap-invoices",label:"Import AP Invoices",collection:"ap/invoice",fields:[{name:"vendorName",type:"string",required:!0,label:"Vendor Name"},{name:"invoiceNumber",type:"string",required:!0,label:"Invoice Number"},{name:"invoiceDate",type:"string",required:!0,label:"Invoice Date"},{name:"amount",type:"number",required:!0,label:"Amount"},{name:"dueDate",type:"string",label:"Due Date"},{name:"description",type:"string",label:"Description"}],autoDetectHeaders:!0}],exportTypes:[{id:"ap-aging",label:"Export AP Aging",collection:"ap/invoice",defaultFields:["vendorId","invoiceNumber","invoiceDate","dueDate","amount","balanceDue","status"]},{id:"ap-1099",label:"Export 1099 Data",collection:"ap/vendor",defaultFields:["name","taxId","form1099Type","ytd1099Amount","address","city","state","zip"]}],hooks:[]},ee=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function g(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const te=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"pending",label:"Pending"},{value:"blocked",label:"Blocked"}],de=[{value:"",label:"All Types"},{value:"subcontractor",label:"Subcontractor"},{value:"supplier",label:"Supplier"},{value:"professional",label:"Professional Services"},{value:"utility",label:"Utility"},{value:"government",label:"Government"},{value:"other",label:"Other"}],M={active:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",inactive:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",pending:"bg-amber-500/10 text-amber-400 border border-amber-500/20",blocked:"bg-red-500/10 text-red-400 border border-red-500/20"};function ne(a){const t=g("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=g("input",d);r.type="text",r.placeholder="Search vendors...",t.appendChild(r);const p=g("select",d);for(const n of te){const i=g("option","",n.label);i.value=n.value,p.appendChild(i)}t.appendChild(p);const o=g("select",d);for(const n of de){const i=g("option","",n.label);i.value=n.value,o.appendChild(i)}t.appendChild(o);const e=()=>a(p.value,o.value,r.value);return p.addEventListener("change",e),o.addEventListener("change",e),r.addEventListener("input",e),t}function re(a){const t=g("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=g("table","w-full text-sm"),r=g("thead"),p=g("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Code","Name","Type","Status","Contact","Phone","Email","Balance","1099","Actions"]){const n=e==="Balance"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";p.appendChild(g("th",n,e))}r.appendChild(p),d.appendChild(r);const o=g("tbody");if(a.length===0){const e=g("tr"),n=g("td","py-8 px-3 text-center text-[var(--text-muted)]","No vendors found. Create your first vendor to get started.");n.setAttribute("colspan","10"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=g("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),i=g("td","py-2 px-3 font-mono"),l=g("a","text-[var(--accent)] hover:underline",e.code);l.href=`#/ap/vendors/${e.id}`,i.appendChild(l),n.appendChild(i),n.appendChild(g("td","py-2 px-3 font-medium text-[var(--text)]",e.name)),n.appendChild(g("td","py-2 px-3 text-[var(--text-muted)]",e.type));const s=g("td","py-2 px-3"),m=g("span",`px-2 py-0.5 rounded-full text-xs font-medium ${M[e.status]??M.active}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));s.appendChild(m),n.appendChild(s),n.appendChild(g("td","py-2 px-3 text-[var(--text-muted)]",e.contactName)),n.appendChild(g("td","py-2 px-3 text-[var(--text-muted)]",e.phone)),n.appendChild(g("td","py-2 px-3 text-[var(--text-muted)]",e.email)),n.appendChild(g("td","py-2 px-3 text-right font-mono",ee(e.balance)));const h=g("td","py-2 px-3");e.is1099?h.appendChild(g("span","px-2 py-0.5 rounded-full text-xs font-medium bg-blue-500/10 text-blue-400 border border-blue-500/20","Yes")):h.appendChild(g("span","text-[var(--text-muted)] text-xs","No")),n.appendChild(h);const T=g("td","py-2 px-3"),w=g("a","text-[var(--accent)] hover:underline text-sm","Edit");w.href=`#/ap/vendors/${e.id}`,T.appendChild(w),n.appendChild(T),o.appendChild(n)}return d.appendChild(o),t.appendChild(d),t}const ae={render(a){a.innerHTML="";const t=g("div","space-y-0"),d=g("div","flex items-center justify-between mb-4");d.appendChild(g("h1","text-2xl font-bold text-[var(--text)]","Vendors"));const r=g("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");r.href="#/ap/vendors/new",r.textContent="New Vendor",d.appendChild(r),t.appendChild(d),t.appendChild(ne((o,e,n)=>{}));const p=[];t.appendChild(re(p)),a.appendChild(t)}},oe=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));function _(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const pe=[{value:"subcontractor",label:"Subcontractor"},{value:"supplier",label:"Supplier"},{value:"professional",label:"Professional Services"},{value:"utility",label:"Utility"},{value:"government",label:"Government"},{value:"other",label:"Other"}],ie=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"pending",label:"Pending"},{value:"blocked",label:"Blocked"}],le=[{value:"net10",label:"Net 10"},{value:"net15",label:"Net 15"},{value:"net30",label:"Net 30"},{value:"net45",label:"Net 45"},{value:"net60",label:"Net 60"},{value:"net90",label:"Net 90"},{value:"due_on_receipt",label:"Due on Receipt"}],se=[{value:"",label:"None"},{value:"NEC",label:"1099-NEC"},{value:"MISC",label:"1099-MISC"},{value:"INT",label:"1099-INT"}];function S(a,t,d){const r=_("div",d===2?"col-span-2":"");return r.appendChild(_("label","block text-sm font-medium text-[var(--text-muted)] mb-1",a)),r.appendChild(t),r}function A(a,t){const d=_("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return d.type="text",d.name=a,t&&(d.placeholder=t),d}function O(a,t){const d=_("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return d.type="number",d.name=a,d.step="0.01",t&&(d.placeholder=t),d}function $(a,t){const d=_("select","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");d.name=a;for(const r of t){const p=_("option","",r.label);p.value=r.value,d.appendChild(p)}return d}function ce(a,t){const d=_("textarea","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return d.name=a,d.rows=t,d}function G(a,t){const d=_("div","flex items-center gap-2"),r=_("input","rounded border-[var(--border)]");return r.type="checkbox",r.name=a,d.appendChild(r),d.appendChild(_("span","text-sm text-[var(--text)]",t)),d}const ue={render(a){a.innerHTML="";const t=_("div","space-y-0"),d=_("div","flex items-center justify-between mb-6");d.appendChild(_("h1","text-2xl font-bold text-[var(--text)]","Vendor Details"));const r=_("a","text-sm text-[var(--text-muted)] hover:text-[var(--text)]","Back to Vendors");r.href="#/ap/vendors",d.appendChild(r),t.appendChild(d);const p=_("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),o=_("form","space-y-6");o.appendChild(_("h2","text-lg font-semibold text-[var(--text)] mb-2","General Information"));const e=_("div","grid grid-cols-2 gap-4");e.appendChild(S("Vendor Code",A("code","Auto-generated if blank"))),e.appendChild(S("Vendor Name",A("name","Enter vendor name"))),e.appendChild(S("DBA / Trade Name",A("dba","Doing business as"))),e.appendChild(S("Type",$("type",pe))),e.appendChild(S("Status",$("status",ie))),e.appendChild(S("Tax ID (EIN/SSN)",A("taxId","XX-XXXXXXX"))),o.appendChild(e),o.appendChild(_("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Contact Information"));const n=_("div","grid grid-cols-2 gap-4");n.appendChild(S("Contact Name",A("contactName","Primary contact"))),n.appendChild(S("Contact Title",A("contactTitle","Title"))),n.appendChild(S("Phone",A("phone","(555) 555-5555"))),n.appendChild(S("Fax",A("fax","(555) 555-5555"))),n.appendChild(S("Email",A("email","email@example.com"))),n.appendChild(S("Website",A("website","https://"))),o.appendChild(n),o.appendChild(_("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Address"));const i=_("div","grid grid-cols-2 gap-4");i.appendChild(S("Address Line 1",A("address1","Street address"))),i.appendChild(S("Address Line 2",A("address2","Suite, unit, etc."))),i.appendChild(S("City",A("city","City"))),i.appendChild(S("State",A("state","State"))),i.appendChild(S("ZIP Code",A("zip","ZIP code"))),i.appendChild(S("Country",A("country","Country"))),o.appendChild(i),o.appendChild(_("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Payment & Terms"));const l=_("div","grid grid-cols-2 gap-4");l.appendChild(S("Payment Terms",$("paymentTerms",le))),l.appendChild(S("Default GL Account",A("defaultGLAccount","GL account number"))),l.appendChild(S("Credit Limit",O("creditLimit","0.00"))),l.appendChild(S("Default Retention %",O("defaultRetentionPct","0"))),o.appendChild(l),o.appendChild(_("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","1099 & Tax Information"));const s=_("div","grid grid-cols-2 gap-4");s.appendChild(S("1099 Type",$("form1099Type",se))),s.appendChild(S("1099 Threshold",O("form1099Threshold","600.00")));const m=_("div","col-span-2 flex items-center gap-6 mt-2");m.appendChild(G("is1099","Subject to 1099 reporting")),m.appendChild(G("w9Received","W-9 received on file")),s.appendChild(m),o.appendChild(s),o.appendChild(_("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Insurance & Compliance"));const h=_("div","grid grid-cols-2 gap-4");h.appendChild(S("Insurance Carrier",A("insuranceCarrier","Carrier name"))),h.appendChild(S("Policy Number",A("insurancePolicyNumber","Policy number"))),h.appendChild(S("Insurance Expiry",A("insuranceExpiry","YYYY-MM-DD"))),h.appendChild(S("License Number",A("licenseNumber","License number"))),h.appendChild(S("License Expiry",A("licenseExpiry","YYYY-MM-DD"))),o.appendChild(h),o.appendChild(_("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Notes")),o.appendChild(S("Internal Notes",ce("notes",4),2));const T=_("div","flex items-center gap-3 mt-6"),w=_("button","px-6 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save Vendor");w.type="button",w.addEventListener("click",()=>{}),T.appendChild(w);const E=_("a","px-6 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] border border-[var(--border)]","Cancel");E.href="#/ap/vendors",T.appendChild(E),o.appendChild(T),p.appendChild(o),t.appendChild(p),a.appendChild(t)}},z=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),B=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function y(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const be=[{value:"",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"pending",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"partial",label:"Partially Paid"},{value:"paid",label:"Paid"},{value:"void",label:"Void"},{value:"disputed",label:"Disputed"}],F={draft:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",pending:"bg-amber-500/10 text-amber-400 border border-amber-500/20",approved:"bg-blue-500/10 text-blue-400 border border-blue-500/20",partial:"bg-purple-500/10 text-purple-400 border border-purple-500/20",paid:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",void:"bg-red-500/10 text-red-400 border border-red-500/20",disputed:"bg-orange-500/10 text-orange-400 border border-orange-500/20"};function xe(a){const t=y("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=y("input",d);r.type="text",r.placeholder="Search invoices...",t.appendChild(r);const p=y("select",d);for(const s of be){const m=y("option","",s.label);m.value=s.value,p.appendChild(m)}t.appendChild(p);const o=y("span","text-sm text-[var(--text-muted)]","From:");t.appendChild(o);const e=y("input",d);e.type="date",e.name="fromDate",t.appendChild(e);const n=y("span","text-sm text-[var(--text-muted)]","To:");t.appendChild(n);const i=y("input",d);i.type="date",i.name="toDate",t.appendChild(i);const l=()=>a(p.value,r.value,e.value,i.value);return p.addEventListener("change",l),r.addEventListener("input",l),e.addEventListener("change",l),i.addEventListener("change",l),t}function ve(a){const t=y("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=y("table","w-full text-sm"),r=y("thead"),p=y("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Invoice #","Vendor","Job","Date","Due Date","Amount","Retention","Balance Due","Status","Actions"]){const n=["Amount","Retention","Balance Due"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";p.appendChild(y("th",n,e))}r.appendChild(p),d.appendChild(r);const o=y("tbody");if(a.length===0){const e=y("tr"),n=y("td","py-8 px-3 text-center text-[var(--text-muted)]","No invoices found. Create your first invoice to get started.");n.setAttribute("colspan","10"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=y("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),i=y("td","py-2 px-3 font-mono"),l=y("a","text-[var(--accent)] hover:underline",e.invoiceNumber);l.href=`#/ap/invoices/${e.id}`,i.appendChild(l),n.appendChild(i),n.appendChild(y("td","py-2 px-3 text-[var(--text)]",e.vendorName)),n.appendChild(y("td","py-2 px-3 text-[var(--text-muted)] font-mono",e.jobNumber)),n.appendChild(y("td","py-2 px-3 text-[var(--text-muted)]",e.invoiceDate)),n.appendChild(y("td","py-2 px-3 text-[var(--text-muted)]",e.dueDate)),n.appendChild(y("td","py-2 px-3 text-right font-mono",B(e.amount))),n.appendChild(y("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",B(e.retentionAmount))),n.appendChild(y("td","py-2 px-3 text-right font-mono font-medium",B(e.balanceDue)));const s=y("td","py-2 px-3"),m=y("span",`px-2 py-0.5 rounded-full text-xs font-medium ${F[e.status]??F.draft}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));s.appendChild(m),n.appendChild(s);const h=y("td","py-2 px-3"),T=y("a","text-[var(--accent)] hover:underline text-sm mr-2","Edit");T.href=`#/ap/invoices/${e.id}`,h.appendChild(T);const w=y("a","text-[var(--accent)] hover:underline text-sm","View");w.href=`#/ap/invoices/${e.id}`,h.appendChild(w),n.appendChild(h),o.appendChild(n)}return d.appendChild(o),t.appendChild(d),t}const me={render(a){a.innerHTML="";const t=y("div","space-y-0"),d=y("div","flex items-center justify-between mb-4");d.appendChild(y("h1","text-2xl font-bold text-[var(--text)]","AP Invoices"));const r=y("a","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90");r.href="#/ap/invoices/new",r.textContent="New Invoice",d.appendChild(r),t.appendChild(d),t.appendChild(xe((o,e,n,i)=>{}));const p=[];t.appendChild(ve(p)),a.appendChild(t)}},he=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"})),I=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function u(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const Ce=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"partial",label:"Partially Paid"},{value:"paid",label:"Paid"},{value:"void",label:"Void"},{value:"disputed",label:"Disputed"}];function N(a,t,d){const r=u("div",d===2?"col-span-2":"");return r.appendChild(u("label","block text-sm font-medium text-[var(--text-muted)] mb-1",a)),r.appendChild(t),r}function k(a,t){const d=u("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return d.type="text",d.name=a,t&&(d.placeholder=t),d}function j(a){const t=u("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return t.type="date",t.name=a,t}function Y(a,t){const d=u("input","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return d.type="number",d.name=a,d.step="0.01",t&&(d.placeholder=t),d}function fe(a,t){const d=u("select","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");d.name=a;for(const r of t){const p=u("option","",r.label);p.value=r.value,d.appendChild(p)}return d}function H(a,t){const d=u("textarea","w-full bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]");return d.name=a,d.rows=t,d}function ye(a){const t=u("div","space-y-3");t.appendChild(u("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Line Items"));const d=u("div","bg-[var(--surface)] border border-[var(--border)] rounded-lg overflow-hidden"),r=u("table","w-full text-sm"),p=u("thead"),o=u("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const i of["#","Description","Job","Cost Code","Cost Type","GL Account","Amount","Retention","Net","Actions"]){const l=["Amount","Retention","Net"].includes(i)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";o.appendChild(u("th",l,i))}p.appendChild(o),r.appendChild(p);const e=u("tbody");if(a.length===0){const i=u("tr"),l=u("td","py-6 px-3 text-center text-[var(--text-muted)]",'No line items. Click "Add Line" to add invoice line items.');l.setAttribute("colspan","10"),i.appendChild(l),e.appendChild(i)}for(const i of a){const l=u("tr","border-b border-[var(--border)]");l.appendChild(u("td","py-2 px-3 font-mono text-[var(--text-muted)]",String(i.lineNumber))),l.appendChild(u("td","py-2 px-3",i.description)),l.appendChild(u("td","py-2 px-3 font-mono",i.jobNumber)),l.appendChild(u("td","py-2 px-3 font-mono",i.costCode)),l.appendChild(u("td","py-2 px-3",i.costType)),l.appendChild(u("td","py-2 px-3 font-mono",i.glAccount)),l.appendChild(u("td","py-2 px-3 text-right font-mono",I(i.amount))),l.appendChild(u("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",I(i.retentionAmount))),l.appendChild(u("td","py-2 px-3 text-right font-mono font-medium",I(i.netAmount)));const s=u("td","py-2 px-3"),m=u("button","text-red-400 hover:text-red-300 text-sm","Remove");m.type="button",s.appendChild(m),l.appendChild(s),e.appendChild(l)}r.appendChild(e),d.appendChild(r),t.appendChild(d);const n=u("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)] hover:border-[var(--accent)]","Add Line");return n.type="button",n.addEventListener("click",()=>{}),t.appendChild(n),t}function ge(){const a=u("div","bg-[var(--surface)] border border-[var(--border)] rounded-lg p-4 mt-4"),t=u("div","grid grid-cols-4 gap-4 text-sm"),d=(r,p)=>{const o=u("div","text-right");return o.appendChild(u("div","text-[var(--text-muted)]",r)),o.appendChild(u("div","font-mono font-medium text-[var(--text)]",p)),o};return t.appendChild(d("Subtotal",I(0))),t.appendChild(d("Retention",I(0))),t.appendChild(d("Tax",I(0))),t.appendChild(d("Total Due",I(0))),a.appendChild(t),a}const _e={render(a){a.innerHTML="";const t=u("div","space-y-0"),d=u("div","flex items-center justify-between mb-6");d.appendChild(u("h1","text-2xl font-bold text-[var(--text)]","AP Invoice"));const r=u("a","text-sm text-[var(--text-muted)] hover:text-[var(--text)]","Back to Invoices");r.href="#/ap/invoices",d.appendChild(r),t.appendChild(d);const p=u("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-6"),o=u("form","space-y-6");o.appendChild(u("h2","text-lg font-semibold text-[var(--text)] mb-2","Invoice Header"));const e=u("div","grid grid-cols-2 gap-4");e.appendChild(N("Vendor",k("vendorId","Select vendor"))),e.appendChild(N("Invoice Number",k("invoiceNumber","Vendor invoice number"))),e.appendChild(N("Invoice Date",j("invoiceDate"))),e.appendChild(N("Due Date",j("dueDate"))),e.appendChild(N("PO Number",k("poNumber","Purchase order reference"))),e.appendChild(N("Status",fe("status",Ce))),e.appendChild(N("Retention %",Y("retentionPct","0"))),e.appendChild(N("Tax Amount",Y("taxAmount","0.00"))),o.appendChild(e),o.appendChild(u("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Description")),o.appendChild(N("Description",H("description",3),2));const n=[];o.appendChild(ye(n)),o.appendChild(ge()),o.appendChild(u("h2","text-lg font-semibold text-[var(--text)] mt-6 mb-2","Approval"));const i=u("div","grid grid-cols-2 gap-4");i.appendChild(N("Approved By",k("approvedBy","Approver name"))),i.appendChild(N("Approval Date",j("approvalDate"))),i.appendChild(N("Approval Notes",H("approvalNotes",2),2)),o.appendChild(i);const l=u("div","flex items-center gap-3 mt-6"),s=u("button","px-6 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Save Invoice");s.type="button",s.addEventListener("click",()=>{}),l.appendChild(s);const m=u("button","px-6 py-2 rounded-md text-sm font-medium bg-emerald-600 text-white hover:opacity-90","Approve");m.type="button",m.addEventListener("click",()=>{}),l.appendChild(m);const h=u("button","px-6 py-2 rounded-md text-sm font-medium bg-red-600 text-white hover:opacity-90","Void");h.type="button",h.addEventListener("click",()=>{}),l.appendChild(h);const T=u("a","px-6 py-2 rounded-md text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text)] border border-[var(--border)]","Cancel");T.href="#/ap/invoices",l.appendChild(T),o.appendChild(l),p.appendChild(o),t.appendChild(p),a.appendChild(t)}},W=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"})),R=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function v(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const Se=[{value:"",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"processed",label:"Processed"},{value:"cleared",label:"Cleared"},{value:"void",label:"Void"}],Te=[{value:"",label:"All Methods"},{value:"check",label:"Check"},{value:"ach",label:"ACH"},{value:"wire",label:"Wire Transfer"},{value:"credit_card",label:"Credit Card"},{value:"cash",label:"Cash"}],q={pending:"bg-amber-500/10 text-amber-400 border border-amber-500/20",approved:"bg-blue-500/10 text-blue-400 border border-blue-500/20",processed:"bg-purple-500/10 text-purple-400 border border-purple-500/20",cleared:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",void:"bg-red-500/10 text-red-400 border border-red-500/20"};function Ae(a){const t=v("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=v("input",d);r.type="text",r.placeholder="Search payments...",t.appendChild(r);const p=v("select",d);for(const m of Se){const h=v("option","",m.label);h.value=m.value,p.appendChild(h)}t.appendChild(p);const o=v("select",d);for(const m of Te){const h=v("option","",m.label);h.value=m.value,o.appendChild(h)}t.appendChild(o);const e=v("span","text-sm text-[var(--text-muted)]","From:");t.appendChild(e);const n=v("input",d);n.type="date",t.appendChild(n);const i=v("span","text-sm text-[var(--text-muted)]","To:");t.appendChild(i);const l=v("input",d);l.type="date",t.appendChild(l);const s=()=>a(p.value,o.value,r.value,n.value,l.value);return p.addEventListener("change",s),o.addEventListener("change",s),r.addEventListener("input",s),n.addEventListener("change",s),l.addEventListener("change",s),t}function we(){const a=v("div","grid grid-cols-4 gap-4 mb-4"),t=(d,r,p)=>{const o=v("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return o.appendChild(v("div","text-sm text-[var(--text-muted)] mb-1",d)),o.appendChild(v("div",`text-xl font-bold font-mono ${p?"text-[var(--accent)]":"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Total Pending",R(0))),a.appendChild(t("Approved for Payment",R(0),!0)),a.appendChild(t("Processed This Month",R(0))),a.appendChild(t("Cleared This Month",R(0))),a}function Ee(a){const t=v("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=v("table","w-full text-sm"),r=v("thead"),p=v("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Payment #","Vendor","Date","Method","Check #","Bank Account","Invoices","Amount","Status","Actions"]){const n=e==="Amount"?"py-2 px-3 font-medium text-right":e==="Invoices"?"py-2 px-3 font-medium text-center":"py-2 px-3 font-medium";p.appendChild(v("th",n,e))}r.appendChild(p),d.appendChild(r);const o=v("tbody");if(a.length===0){const e=v("tr"),n=v("td","py-8 px-3 text-center text-[var(--text-muted)]","No payments found. Process invoices to create payments.");n.setAttribute("colspan","10"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=v("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");n.appendChild(v("td","py-2 px-3 font-mono text-[var(--accent)]",e.paymentNumber)),n.appendChild(v("td","py-2 px-3 text-[var(--text)]",e.vendorName)),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",e.paymentDate)),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",e.method)),n.appendChild(v("td","py-2 px-3 font-mono text-[var(--text-muted)]",e.checkNumber)),n.appendChild(v("td","py-2 px-3 text-[var(--text-muted)]",e.bankAccount)),n.appendChild(v("td","py-2 px-3 text-center",String(e.invoiceCount))),n.appendChild(v("td","py-2 px-3 text-right font-mono font-medium",R(e.amount)));const i=v("td","py-2 px-3"),l=v("span",`px-2 py-0.5 rounded-full text-xs font-medium ${q[e.status]??q.pending}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));i.appendChild(l),n.appendChild(i);const s=v("td","py-2 px-3"),m=v("button","text-[var(--accent)] hover:underline text-sm mr-2","View");m.type="button",s.appendChild(m);const h=v("button","text-red-400 hover:underline text-sm","Void");h.type="button",s.appendChild(h),n.appendChild(s),o.appendChild(n)}return d.appendChild(o),t.appendChild(d),t}const Le={render(a){a.innerHTML="";const t=v("div","space-y-0"),d=v("div","flex items-center justify-between mb-4");d.appendChild(v("h1","text-2xl font-bold text-[var(--text)]","Payments"));const r=v("div","flex items-center gap-2"),p=v("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Process Payments");p.type="button",p.addEventListener("click",()=>{}),r.appendChild(p);const o=v("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Print Checks");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),d.appendChild(r),t.appendChild(d),t.appendChild(we()),t.appendChild(Ae((n,i,l,s,m)=>{}));const e=[];t.appendChild(Ee(e)),a.appendChild(t)}},Pe=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"})),L=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function f(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const X=["Current","1-30","31-60","61-90","90+","Total"];function Ne(a){const t=f("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=f("input",d);r.type="text",r.placeholder="Search vendors...",t.appendChild(r);const p=f("span","text-sm text-[var(--text-muted)]","As of:");t.appendChild(p);const o=f("input",d);o.type="date",o.name="asOfDate",o.valueAsDate=new Date,t.appendChild(o);const e=f("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Refresh");e.type="button",t.appendChild(e);const n=()=>a(o.value,r.value);return r.addEventListener("input",n),o.addEventListener("change",n),e.addEventListener("click",n),t}function De(){const a=f("div","grid grid-cols-6 gap-3 mb-4"),t=(d,r,p)=>{const o=f("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-3 text-center");return o.appendChild(f("div","text-xs text-[var(--text-muted)] mb-1",d)),o.appendChild(f("div",`text-lg font-bold font-mono ${p??"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Current",L(0),"text-emerald-400")),a.appendChild(t("1-30 Days",L(0),"text-blue-400")),a.appendChild(t("31-60 Days",L(0),"text-amber-400")),a.appendChild(t("61-90 Days",L(0),"text-orange-400")),a.appendChild(t("90+ Days",L(0),"text-red-400")),a.appendChild(t("Total",L(0),"text-[var(--accent)]")),a}function Ie(a){const t=f("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=f("table","w-full text-sm"),r=f("thead"),p=f("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");p.appendChild(f("th","py-2 px-3 font-medium","Code")),p.appendChild(f("th","py-2 px-3 font-medium","Vendor"));for(const e of X)p.appendChild(f("th","py-2 px-3 font-medium text-right",e));r.appendChild(p),d.appendChild(r);const o=f("tbody");if(a.length===0){const e=f("tr"),n=f("td","py-8 px-3 text-center text-[var(--text-muted)]","No aging data available. Enter AP invoices to generate the aging report.");n.setAttribute("colspan","8"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=f("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");n.appendChild(f("td","py-2 px-3 font-mono text-[var(--text-muted)]",e.vendorCode));const i=f("td","py-2 px-3"),l=f("a","text-[var(--accent)] hover:underline",e.vendorName);l.href=`#/ap/vendors/${e.vendorId}`,i.appendChild(l),n.appendChild(i);const s=(m,h)=>m===0?"py-2 px-3 text-right font-mono text-[var(--text-muted)]":h?"py-2 px-3 text-right font-mono text-red-400":"py-2 px-3 text-right font-mono text-[var(--text)]";n.appendChild(f("td",s(e.current),L(e.current))),n.appendChild(f("td",s(e.days1to30),L(e.days1to30))),n.appendChild(f("td",s(e.days31to60),L(e.days31to60))),n.appendChild(f("td",s(e.days61to90,!0),L(e.days61to90))),n.appendChild(f("td",s(e.days90plus,!0),L(e.days90plus))),n.appendChild(f("td","py-2 px-3 text-right font-mono font-medium text-[var(--text)]",L(e.total))),o.appendChild(n)}if(a.length>0){const e=f("tr","border-t-2 border-[var(--border)] bg-[var(--surface)] font-medium");e.appendChild(f("td","py-2 px-3","")),e.appendChild(f("td","py-2 px-3 text-[var(--text)]","Totals"));for(let n=0;n<X.length;n++)e.appendChild(f("td","py-2 px-3 text-right font-mono text-[var(--text)]",L(0)));o.appendChild(e)}return d.appendChild(o),t.appendChild(d),t}const Re={render(a){a.innerHTML="";const t=f("div","space-y-0"),d=f("div","flex items-center justify-between mb-4");d.appendChild(f("h1","text-2xl font-bold text-[var(--text)]","AP Aging Report"));const r=f("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");r.type="button",r.addEventListener("click",()=>{}),d.appendChild(r),t.appendChild(d),t.appendChild(De()),t.appendChild(Ne((o,e)=>{}));const p=[];t.appendChild(Ie(p)),a.appendChild(t)}},$e=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),U=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function b(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const ke=[{value:"",label:"All Types"},{value:"NEC",label:"1099-NEC"},{value:"MISC",label:"1099-MISC"},{value:"INT",label:"1099-INT"}],J={above:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",below:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",warning:"bg-amber-500/10 text-amber-400 border border-amber-500/20"};function Oe(a){const t=b("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=b("input",d);r.type="text",r.placeholder="Search vendors...",t.appendChild(r);const p=b("select",d);for(const s of ke){const m=b("option","",s.label);m.value=s.value,p.appendChild(m)}t.appendChild(p);const o=b("span","text-sm text-[var(--text-muted)]","Tax Year:");t.appendChild(o);const e=b("input",d);e.type="number",e.value=String(new Date().getFullYear()),e.min="2000",e.max="2099",e.style.width="80px",t.appendChild(e);const n=b("div","flex items-center gap-2"),i=b("input","rounded border-[var(--border)]");i.type="checkbox",i.name="aboveThreshold",n.appendChild(i),n.appendChild(b("span","text-sm text-[var(--text-muted)]","Above threshold only")),t.appendChild(n);const l=()=>a(p.value,e.value,r.value,i.checked);return p.addEventListener("change",l),r.addEventListener("input",l),e.addEventListener("change",l),i.addEventListener("change",l),t}function Be(){const a=b("div","grid grid-cols-4 gap-4 mb-4"),t=(d,r,p)=>{const o=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return o.appendChild(b("div","text-sm text-[var(--text-muted)] mb-1",d)),o.appendChild(b("div","text-xl font-bold text-[var(--text)]",r)),p&&o.appendChild(b("div","text-xs text-[var(--text-muted)] mt-1",p)),o};return a.appendChild(t("1099 Vendors","0","Total vendors subject to 1099")),a.appendChild(t("Above Threshold","0","Vendors exceeding reporting threshold")),a.appendChild(t("Total 1099 Amount",U(0),"Year-to-date total")),a.appendChild(t("Missing W-9","0","Vendors without W-9 on file")),a}function je(a){const t=b("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=b("table","w-full text-sm"),r=b("thead"),p=b("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Code","Vendor","Tax ID","Form Type","YTD Amount","Threshold","Status","W-9","Address","Actions"]){const n=["YTD Amount","Threshold"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";p.appendChild(b("th",n,e))}r.appendChild(p),d.appendChild(r);const o=b("tbody");if(a.length===0){const e=b("tr"),n=b("td","py-8 px-3 text-center text-[var(--text-muted)]","No 1099 vendors found. Mark vendors as subject to 1099 reporting in vendor setup.");n.setAttribute("colspan","10"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=b("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors");n.appendChild(b("td","py-2 px-3 font-mono text-[var(--text-muted)]",e.vendorCode));const i=b("td","py-2 px-3"),l=b("a","text-[var(--accent)] hover:underline",e.vendorName);l.href=`#/ap/vendors/${e.vendorId}`,i.appendChild(l),n.appendChild(i),n.appendChild(b("td","py-2 px-3 font-mono text-[var(--text-muted)]",e.taxId)),n.appendChild(b("td","py-2 px-3 text-[var(--text)]",e.form1099Type)),n.appendChild(b("td","py-2 px-3 text-right font-mono font-medium",U(e.ytdAmount))),n.appendChild(b("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",U(e.threshold)));const s=b("td","py-2 px-3"),m=J[e.thresholdStatus]??J.below,h=e.thresholdStatus==="above"?"Above":e.thresholdStatus==="warning"?"Near":"Below";s.appendChild(b("span",`px-2 py-0.5 rounded-full text-xs font-medium ${m}`,h)),n.appendChild(s);const T=b("td","py-2 px-3");e.w9OnFile?T.appendChild(b("span","px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-500/10 text-emerald-400 border border-emerald-500/20","Yes")):T.appendChild(b("span","px-2 py-0.5 rounded-full text-xs font-medium bg-red-500/10 text-red-400 border border-red-500/20","Missing")),n.appendChild(T);const w=[e.address,e.city,e.state,e.zip].filter(Boolean);n.appendChild(b("td","py-2 px-3 text-[var(--text-muted)] text-xs",w.join(", ")));const E=b("td","py-2 px-3"),V=b("a","text-[var(--accent)] hover:underline text-sm","Edit");V.href=`#/ap/vendors/${e.vendorId}`,E.appendChild(V),n.appendChild(E),o.appendChild(n)}return d.appendChild(o),t.appendChild(d),t}const Ue={render(a){a.innerHTML="";const t=b("div","space-y-0"),d=b("div","flex items-center justify-between mb-4");d.appendChild(b("h1","text-2xl font-bold text-[var(--text)]","1099 Report"));const r=b("div","flex items-center gap-2"),p=b("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Generate 1099s");p.type="button",p.addEventListener("click",()=>{}),r.appendChild(p);const o=b("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),d.appendChild(r),t.appendChild(d),t.appendChild(Be()),t.appendChild(Oe((n,i,l,s)=>{}));const e=[];t.appendChild(je(e)),a.appendChild(t)}},Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),Me=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function x(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const Ge=[{value:"",label:"All Statuses"},{value:"requested",label:"Requested"},{value:"received",label:"Received"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"expired",label:"Expired"}],ze=[{value:"",label:"All Types"},{value:"conditional_progress",label:"Conditional Progress"},{value:"unconditional_progress",label:"Unconditional Progress"},{value:"conditional_final",label:"Conditional Final"},{value:"unconditional_final",label:"Unconditional Final"}],Z={requested:"bg-amber-500/10 text-amber-400 border border-amber-500/20",received:"bg-blue-500/10 text-blue-400 border border-blue-500/20",approved:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",rejected:"bg-red-500/10 text-red-400 border border-red-500/20",expired:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"},Fe={conditional_progress:"Cond. Progress",unconditional_progress:"Uncond. Progress",conditional_final:"Cond. Final",unconditional_final:"Uncond. Final"};function Ye(a){const t=x("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=x("input",d);r.type="text",r.placeholder="Search vendors or jobs...",t.appendChild(r);const p=x("select",d);for(const n of Ge){const i=x("option","",n.label);i.value=n.value,p.appendChild(i)}t.appendChild(p);const o=x("select",d);for(const n of ze){const i=x("option","",n.label);i.value=n.value,o.appendChild(i)}t.appendChild(o);const e=()=>a(p.value,o.value,r.value);return p.addEventListener("change",e),o.addEventListener("change",e),r.addEventListener("input",e),t}function He(){const a=x("div","grid grid-cols-5 gap-3 mb-4"),t=(d,r,p)=>{const o=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-3 text-center");return o.appendChild(x("div","text-xs text-[var(--text-muted)] mb-1",d)),o.appendChild(x("div",`text-lg font-bold ${p??"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Requested","0","text-amber-400")),a.appendChild(t("Received","0","text-blue-400")),a.appendChild(t("Approved","0","text-emerald-400")),a.appendChild(t("Rejected","0","text-red-400")),a.appendChild(t("Expired","0","text-zinc-400")),a}function We(a){const t=x("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=x("table","w-full text-sm"),r=x("thead"),p=x("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Vendor","Job","Type","Through Date","Amount","Requested","Received","Status","Actions"]){const n=e==="Amount"?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";p.appendChild(x("th",n,e))}r.appendChild(p),d.appendChild(r);const o=x("tbody");if(a.length===0){const e=x("tr"),n=x("td","py-8 px-3 text-center text-[var(--text-muted)]","No lien waivers found. Request lien waivers from vendors to track them here.");n.setAttribute("colspan","9"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=x("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),i=x("td","py-2 px-3");i.appendChild(x("div","text-[var(--text)]",e.vendorName)),i.appendChild(x("div","text-xs text-[var(--text-muted)] font-mono",e.vendorCode)),n.appendChild(i);const l=x("td","py-2 px-3");l.appendChild(x("div","font-mono text-[var(--text)]",e.jobNumber)),l.appendChild(x("div","text-xs text-[var(--text-muted)]",e.jobName)),n.appendChild(l),n.appendChild(x("td","py-2 px-3 text-[var(--text)]",Fe[e.waiverType]??e.waiverType)),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",e.throughDate)),n.appendChild(x("td","py-2 px-3 text-right font-mono",Me(e.amount))),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",e.requestedDate)),n.appendChild(x("td","py-2 px-3 text-[var(--text-muted)]",e.receivedDate||"--"));const s=x("td","py-2 px-3"),m=x("span",`px-2 py-0.5 rounded-full text-xs font-medium ${Z[e.status]??Z.requested}`,e.status.charAt(0).toUpperCase()+e.status.slice(1));s.appendChild(m),n.appendChild(s);const h=x("td","py-2 px-3"),T=x("button","text-[var(--accent)] hover:underline text-sm mr-2","Received");T.type="button",h.appendChild(T);const w=x("button","text-emerald-400 hover:underline text-sm mr-2","Approve");w.type="button",h.appendChild(w);const E=x("button","text-red-400 hover:underline text-sm","Reject");E.type="button",h.appendChild(E),n.appendChild(h),o.appendChild(n)}return d.appendChild(o),t.appendChild(d),t}const qe={render(a){a.innerHTML="";const t=x("div","space-y-0"),d=x("div","flex items-center justify-between mb-4");d.appendChild(x("h1","text-2xl font-bold text-[var(--text)]","Lien Waivers"));const r=x("div","flex items-center gap-2"),p=x("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Request Waiver");p.type="button",p.addEventListener("click",()=>{}),r.appendChild(p);const o=x("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),d.appendChild(r),t.appendChild(d),t.appendChild(He()),t.appendChild(Ye((n,i,l)=>{}));const e=[];t.appendChild(We(e)),a.appendChild(t)}},Xe=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"}));function C(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const Je=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"expiring_soon",label:"Expiring Soon"},{value:"expired",label:"Expired"},{value:"pending",label:"Pending"},{value:"not_required",label:"Not Required"}],Ze=[{value:"",label:"All Types"},{value:"general_liability",label:"General Liability"},{value:"workers_comp",label:"Workers Comp"},{value:"auto_liability",label:"Auto Liability"},{value:"umbrella",label:"Umbrella/Excess"},{value:"professional_liability",label:"Professional Liability"},{value:"builders_risk",label:"Builder's Risk"},{value:"bond",label:"Bond"},{value:"license",label:"License"},{value:"w9",label:"W-9"},{value:"other",label:"Other"}],K={active:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",expiring_soon:"bg-amber-500/10 text-amber-400 border border-amber-500/20",expired:"bg-red-500/10 text-red-400 border border-red-500/20",pending:"bg-blue-500/10 text-blue-400 border border-blue-500/20",not_required:"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"},Ke={active:"Active",expiring_soon:"Expiring Soon",expired:"Expired",pending:"Pending",not_required:"Not Required"},Qe={general_liability:"General Liability",workers_comp:"Workers Comp",auto_liability:"Auto Liability",umbrella:"Umbrella/Excess",professional_liability:"Professional Liability",builders_risk:"Builder's Risk",bond:"Bond",license:"License",w9:"W-9",other:"Other"};function et(a){const t=C("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=C("input",d);r.type="text",r.placeholder="Search vendors...",t.appendChild(r);const p=C("select",d);for(const n of Je){const i=C("option","",n.label);i.value=n.value,p.appendChild(i)}t.appendChild(p);const o=C("select",d);for(const n of Ze){const i=C("option","",n.label);i.value=n.value,o.appendChild(i)}t.appendChild(o);const e=()=>a(p.value,o.value,r.value);return p.addEventListener("change",e),o.addEventListener("change",e),r.addEventListener("input",e),t}function tt(){const a=C("div","grid grid-cols-5 gap-3 mb-4"),t=(d,r,p)=>{const o=C("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-3 text-center");return o.appendChild(C("div","text-xs text-[var(--text-muted)] mb-1",d)),o.appendChild(C("div",`text-lg font-bold ${p??"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Active","0","text-emerald-400")),a.appendChild(t("Expiring Soon","0","text-amber-400")),a.appendChild(t("Expired","0","text-red-400")),a.appendChild(t("Pending","0","text-blue-400")),a.appendChild(t("Total Tracked","0")),a}function dt(a){const t=C("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=C("table","w-full text-sm"),r=C("thead"),p=C("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Vendor","Type","Carrier","Policy #","Effective","Expiration","Coverage","Status","Days Left","Actions"]){const n=e==="Days Left"?"py-2 px-3 font-medium text-center":"py-2 px-3 font-medium";p.appendChild(C("th",n,e))}r.appendChild(p),d.appendChild(r);const o=C("tbody");if(a.length===0){const e=C("tr"),n=C("td","py-8 px-3 text-center text-[var(--text-muted)]","No compliance certificates found. Add vendor insurance, license, or bond records to track them here.");n.setAttribute("colspan","10"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=C("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),i=C("td","py-2 px-3"),l=C("a","text-[var(--accent)] hover:underline",e.vendorName);l.href=`#/ap/vendors/${e.id}`,i.appendChild(l),i.appendChild(C("div","text-xs text-[var(--text-muted)] font-mono",e.vendorCode)),n.appendChild(i),n.appendChild(C("td","py-2 px-3 text-[var(--text)]",Qe[e.certType]??e.certType)),n.appendChild(C("td","py-2 px-3 text-[var(--text-muted)]",e.carrier)),n.appendChild(C("td","py-2 px-3 font-mono text-[var(--text-muted)]",e.policyNumber)),n.appendChild(C("td","py-2 px-3 text-[var(--text-muted)]",e.effectiveDate)),n.appendChild(C("td","py-2 px-3 text-[var(--text-muted)]",e.expirationDate)),n.appendChild(C("td","py-2 px-3 text-[var(--text)]",e.coverageAmount));const s=C("td","py-2 px-3"),m=C("span",`px-2 py-0.5 rounded-full text-xs font-medium ${K[e.status]??K.active}`,Ke[e.status]??e.status);s.appendChild(m),n.appendChild(s);const h=e.daysUntilExpiry<=0?"text-red-400":e.daysUntilExpiry<=30?"text-amber-400":"text-[var(--text-muted)]";n.appendChild(C("td",`py-2 px-3 text-center font-mono ${h}`,e.daysUntilExpiry<=0?"Expired":String(e.daysUntilExpiry)));const T=C("td","py-2 px-3"),w=C("button","text-[var(--accent)] hover:underline text-sm mr-2","Renew");w.type="button",T.appendChild(w);const E=C("button","text-[var(--text-muted)] hover:underline text-sm","Edit");E.type="button",T.appendChild(E),n.appendChild(T),o.appendChild(n)}return d.appendChild(o),t.appendChild(d),t}const nt={render(a){a.innerHTML="";const t=C("div","space-y-0"),d=C("div","flex items-center justify-between mb-4");d.appendChild(C("h1","text-2xl font-bold text-[var(--text)]","Compliance Certificates"));const r=C("div","flex items-center gap-2"),p=C("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Add Certificate");p.type="button",p.addEventListener("click",()=>{}),r.appendChild(p);const o=C("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),d.appendChild(r),t.appendChild(d),t.appendChild(tt()),t.appendChild(et((n,i,l)=>{}));const e=[];t.appendChild(dt(e)),a.appendChild(t)}},rt=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"})),D=a=>a.toLocaleString("en-US",{style:"currency",currency:"USD"});function c(a,t,d){const r=document.createElement(a);return t&&(r.className=t),d!==void 0&&(r.textContent=d),r}const at=[{value:"",label:"All Statuses"},{value:"held",label:"Held"},{value:"pending_release",label:"Pending Release"},{value:"partially_released",label:"Partially Released"},{value:"released",label:"Released"}],Q={held:"bg-amber-500/10 text-amber-400 border border-amber-500/20",pending_release:"bg-blue-500/10 text-blue-400 border border-blue-500/20",partially_released:"bg-purple-500/10 text-purple-400 border border-purple-500/20",released:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20"},ot={held:"Held",pending_release:"Pending Release",partially_released:"Partial",released:"Released"};function pt(a){const t=c("div","flex flex-wrap items-center gap-3 mb-4"),d="bg-[var(--surface)] border border-[var(--border)] rounded-md px-3 py-2 text-sm text-[var(--text)]",r=c("input",d);r.type="text",r.placeholder="Search vendors or jobs...",t.appendChild(r);const p=c("select",d);for(const e of at){const n=c("option","",e.label);n.value=e.value,p.appendChild(n)}t.appendChild(p);const o=()=>a(p.value,r.value);return p.addEventListener("change",o),r.addEventListener("input",o),t}function it(){const a=c("div","grid grid-cols-4 gap-4 mb-4"),t=(d,r,p)=>{const o=c("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg p-4");return o.appendChild(c("div","text-sm text-[var(--text-muted)] mb-1",d)),o.appendChild(c("div",`text-xl font-bold font-mono ${p??"text-[var(--text)]"}`,r)),o};return a.appendChild(t("Total Held",D(0),"text-amber-400")),a.appendChild(t("Pending Release",D(0),"text-blue-400")),a.appendChild(t("Released YTD",D(0),"text-emerald-400")),a.appendChild(t("Net Retention Balance",D(0),"text-[var(--accent)]")),a}function lt(a){const t=c("div","bg-[var(--surface-raised)] border border-[var(--border)] rounded-lg overflow-hidden"),d=c("table","w-full text-sm"),r=c("thead"),p=c("tr","text-left text-[var(--text-muted)] border-b border-[var(--border)]");for(const e of["Vendor","Job","Invoice","Date","Ret %","Original","Held","Released","Balance","Status","Actions"]){const n=["Ret %","Original","Held","Released","Balance"].includes(e)?"py-2 px-3 font-medium text-right":"py-2 px-3 font-medium";p.appendChild(c("th",n,e))}r.appendChild(p),d.appendChild(r);const o=c("tbody");if(a.length===0){const e=c("tr"),n=c("td","py-8 px-3 text-center text-[var(--text-muted)]","No retention records found. Retention is tracked automatically when invoices with retention are entered.");n.setAttribute("colspan","11"),e.appendChild(n),o.appendChild(e)}for(const e of a){const n=c("tr","border-b border-[var(--border)] hover:bg-[var(--surface)] transition-colors"),i=c("td","py-2 px-3"),l=c("a","text-[var(--accent)] hover:underline",e.vendorName);l.href=`#/ap/vendors/${e.id}`,i.appendChild(l),i.appendChild(c("div","text-xs text-[var(--text-muted)] font-mono",e.vendorCode)),n.appendChild(i);const s=c("td","py-2 px-3");s.appendChild(c("div","font-mono text-[var(--text)]",e.jobNumber)),s.appendChild(c("div","text-xs text-[var(--text-muted)]",e.jobName)),n.appendChild(s),n.appendChild(c("td","py-2 px-3 font-mono text-[var(--text)]",e.invoiceNumber)),n.appendChild(c("td","py-2 px-3 text-[var(--text-muted)]",e.invoiceDate)),n.appendChild(c("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",`${e.retentionPct.toFixed(1)}%`)),n.appendChild(c("td","py-2 px-3 text-right font-mono text-[var(--text-muted)]",D(e.originalAmount))),n.appendChild(c("td","py-2 px-3 text-right font-mono text-amber-400",D(e.retentionHeld))),n.appendChild(c("td","py-2 px-3 text-right font-mono text-emerald-400",D(e.retentionReleased))),n.appendChild(c("td","py-2 px-3 text-right font-mono font-medium text-[var(--text)]",D(e.retentionBalance)));const m=c("td","py-2 px-3"),h=c("span",`px-2 py-0.5 rounded-full text-xs font-medium ${Q[e.status]??Q.held}`,ot[e.status]??e.status);m.appendChild(h),n.appendChild(m);const T=c("td","py-2 px-3"),w=c("button","text-[var(--accent)] hover:underline text-sm mr-2","Release");w.type="button",w.addEventListener("click",()=>{}),T.appendChild(w);const E=c("button","text-[var(--text-muted)] hover:underline text-sm","View");E.type="button",T.appendChild(E),n.appendChild(T),o.appendChild(n)}if(a.length>0){const e=c("tr","border-t-2 border-[var(--border)] bg-[var(--surface)] font-medium");e.appendChild(c("td","py-2 px-3 text-[var(--text)]","Totals")),e.appendChild(c("td","py-2 px-3","")),e.appendChild(c("td","py-2 px-3","")),e.appendChild(c("td","py-2 px-3","")),e.appendChild(c("td","py-2 px-3","")),e.appendChild(c("td","py-2 px-3 text-right font-mono",D(0))),e.appendChild(c("td","py-2 px-3 text-right font-mono text-amber-400",D(0))),e.appendChild(c("td","py-2 px-3 text-right font-mono text-emerald-400",D(0))),e.appendChild(c("td","py-2 px-3 text-right font-mono font-bold text-[var(--text)]",D(0))),e.appendChild(c("td","py-2 px-3","")),e.appendChild(c("td","py-2 px-3","")),o.appendChild(e)}return d.appendChild(o),t.appendChild(d),t}const st={render(a){a.innerHTML="";const t=c("div","space-y-0"),d=c("div","flex items-center justify-between mb-4");d.appendChild(c("h1","text-2xl font-bold text-[var(--text)]","Retention Tracking"));const r=c("div","flex items-center gap-2"),p=c("button","px-4 py-2 rounded-md text-sm font-medium bg-[var(--accent)] text-white hover:opacity-90","Batch Release");p.type="button",p.addEventListener("click",()=>{}),r.appendChild(p);const o=c("button","px-4 py-2 rounded-md text-sm font-medium border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]","Export");o.type="button",o.addEventListener("click",()=>{}),r.appendChild(o),d.appendChild(r),t.appendChild(d),t.appendChild(it()),t.appendChild(pt((n,i)=>{}));const e=[];t.appendChild(lt(e)),a.appendChild(t)}},ct=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));export{bt as a};
